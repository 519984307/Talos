ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"proximity.c"
  14              		.section	.text.port_lock,"ax",%progbits
  15              		.align	1
  16              		.syntax unified
  17              		.thumb
  18              		.thumb_func
  19              		.fpu fpv4-sp-d16
  20              		.type	port_lock, %function
  21              	port_lock:
  22              		@ args = 0, pretend = 0, frame = 8
  23              		@ frame_needed = 1, uses_anonymous_args = 0
  24              		@ link register save eliminated.
  25 0000 80B4     		push	{r7}
  26 0002 83B0     		sub	sp, sp, #12
  27 0004 00AF     		add	r7, sp, #0
  28 0006 2023     		movs	r3, #32
  29 0008 7B60     		str	r3, [r7, #4]
  30 000a 7B68     		ldr	r3, [r7, #4]
  31              		.syntax unified
  32              	@ 546 "../e-puck2_main-processor/ChibiOS//os/ext/CMSIS/include/core_cmFunc.h" 1
  33 000c 83F31188 		MSR basepri, r3
  34              	@ 0 "" 2
  35              		.thumb
  36              		.syntax unified
  37 0010 00BF     		nop
  38 0012 0C37     		adds	r7, r7, #12
  39 0014 BD46     		mov	sp, r7
  40              		@ sp needed
  41 0016 5DF8047B 		ldr	r7, [sp], #4
  42 001a 7047     		bx	lr
  43              		.size	port_lock, .-port_lock
  44              		.section	.text.port_unlock,"ax",%progbits
  45              		.align	1
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  49              		.fpu fpv4-sp-d16
  50              		.type	port_unlock, %function
  51              	port_unlock:
  52              		@ args = 0, pretend = 0, frame = 8
  53              		@ frame_needed = 1, uses_anonymous_args = 0
  54              		@ link register save eliminated.
  55 0000 80B4     		push	{r7}
  56 0002 83B0     		sub	sp, sp, #12
  57 0004 00AF     		add	r7, sp, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 2


  58 0006 0023     		movs	r3, #0
  59 0008 7B60     		str	r3, [r7, #4]
  60 000a 7B68     		ldr	r3, [r7, #4]
  61              		.syntax unified
  62              	@ 546 "../e-puck2_main-processor/ChibiOS//os/ext/CMSIS/include/core_cmFunc.h" 1
  63 000c 83F31188 		MSR basepri, r3
  64              	@ 0 "" 2
  65              		.thumb
  66              		.syntax unified
  67 0010 00BF     		nop
  68 0012 0C37     		adds	r7, r7, #12
  69 0014 BD46     		mov	sp, r7
  70              		@ sp needed
  71 0016 5DF8047B 		ldr	r7, [sp], #4
  72 001a 7047     		bx	lr
  73              		.size	port_unlock, .-port_unlock
  74              		.section	.text.port_lock_from_isr,"ax",%progbits
  75              		.align	1
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu fpv4-sp-d16
  80              		.type	port_lock_from_isr, %function
  81              	port_lock_from_isr:
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 1, uses_anonymous_args = 0
  84 0000 80B5     		push	{r7, lr}
  85 0002 00AF     		add	r7, sp, #0
  86 0004 FFF7FEFF 		bl	port_lock
  87 0008 00BF     		nop
  88 000a 80BD     		pop	{r7, pc}
  89              		.size	port_lock_from_isr, .-port_lock_from_isr
  90              		.section	.text.port_unlock_from_isr,"ax",%progbits
  91              		.align	1
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu fpv4-sp-d16
  96              		.type	port_unlock_from_isr, %function
  97              	port_unlock_from_isr:
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 1, uses_anonymous_args = 0
 100 0000 80B5     		push	{r7, lr}
 101 0002 00AF     		add	r7, sp, #0
 102 0004 FFF7FEFF 		bl	port_unlock
 103 0008 00BF     		nop
 104 000a 80BD     		pop	{r7, pc}
 105              		.size	port_unlock_from_isr, .-port_unlock_from_isr
 106              		.section	.text.chSysLockFromISR,"ax",%progbits
 107              		.align	1
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 111              		.fpu fpv4-sp-d16
 112              		.type	chSysLockFromISR, %function
 113              	chSysLockFromISR:
 114              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 3


 115              		@ frame_needed = 1, uses_anonymous_args = 0
 116 0000 80B5     		push	{r7, lr}
 117 0002 00AF     		add	r7, sp, #0
 118 0004 FFF7FEFF 		bl	port_lock_from_isr
 119 0008 FFF7FEFF 		bl	_stats_start_measure_crit_isr
 120 000c FFF7FEFF 		bl	_dbg_check_lock_from_isr
 121 0010 00BF     		nop
 122 0012 80BD     		pop	{r7, pc}
 123              		.size	chSysLockFromISR, .-chSysLockFromISR
 124              		.section	.text.chSysUnlockFromISR,"ax",%progbits
 125              		.align	1
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu fpv4-sp-d16
 130              		.type	chSysUnlockFromISR, %function
 131              	chSysUnlockFromISR:
 132              		@ args = 0, pretend = 0, frame = 0
 133              		@ frame_needed = 1, uses_anonymous_args = 0
 134 0000 80B5     		push	{r7, lr}
 135 0002 00AF     		add	r7, sp, #0
 136 0004 FFF7FEFF 		bl	_dbg_check_unlock_from_isr
 137 0008 FFF7FEFF 		bl	_stats_stop_measure_crit_isr
 138 000c FFF7FEFF 		bl	port_unlock_from_isr
 139 0010 00BF     		nop
 140 0012 80BD     		pop	{r7, pc}
 141              		.size	chSysUnlockFromISR, .-chSysUnlockFromISR
 142              		.section	.text.chRegSetThreadName,"ax",%progbits
 143              		.align	1
 144              		.syntax unified
 145              		.thumb
 146              		.thumb_func
 147              		.fpu fpv4-sp-d16
 148              		.type	chRegSetThreadName, %function
 149              	chRegSetThreadName:
 150              		@ args = 0, pretend = 0, frame = 8
 151              		@ frame_needed = 1, uses_anonymous_args = 0
 152              		@ link register save eliminated.
 153 0000 80B4     		push	{r7}
 154 0002 83B0     		sub	sp, sp, #12
 155 0004 00AF     		add	r7, sp, #0
 156 0006 7860     		str	r0, [r7, #4]
 157 0008 044B     		ldr	r3, .L8
 158 000a 9B69     		ldr	r3, [r3, #24]
 159 000c 7A68     		ldr	r2, [r7, #4]
 160 000e 9A61     		str	r2, [r3, #24]
 161 0010 00BF     		nop
 162 0012 0C37     		adds	r7, r7, #12
 163 0014 BD46     		mov	sp, r7
 164              		@ sp needed
 165 0016 5DF8047B 		ldr	r7, [sp], #4
 166 001a 7047     		bx	lr
 167              	.L9:
 168              		.align	2
 169              	.L8:
 170 001c 00000000 		.word	ch
 171              		.size	chRegSetThreadName, .-chRegSetThreadName
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 4


 172              		.section	.text.chBSemWait,"ax",%progbits
 173              		.align	1
 174              		.syntax unified
 175              		.thumb
 176              		.thumb_func
 177              		.fpu fpv4-sp-d16
 178              		.type	chBSemWait, %function
 179              	chBSemWait:
 180              		@ args = 0, pretend = 0, frame = 8
 181              		@ frame_needed = 1, uses_anonymous_args = 0
 182 0000 80B5     		push	{r7, lr}
 183 0002 82B0     		sub	sp, sp, #8
 184 0004 00AF     		add	r7, sp, #0
 185 0006 7860     		str	r0, [r7, #4]
 186 0008 7B68     		ldr	r3, [r7, #4]
 187 000a 1846     		mov	r0, r3
 188 000c FFF7FEFF 		bl	chSemWait
 189 0010 0346     		mov	r3, r0
 190 0012 1846     		mov	r0, r3
 191 0014 0837     		adds	r7, r7, #8
 192 0016 BD46     		mov	sp, r7
 193              		@ sp needed
 194 0018 80BD     		pop	{r7, pc}
 195              		.size	chBSemWait, .-chBSemWait
 196              		.section	.text.chBSemSignalI,"ax",%progbits
 197              		.align	1
 198              		.syntax unified
 199              		.thumb
 200              		.thumb_func
 201              		.fpu fpv4-sp-d16
 202              		.type	chBSemSignalI, %function
 203              	chBSemSignalI:
 204              		@ args = 0, pretend = 0, frame = 8
 205              		@ frame_needed = 1, uses_anonymous_args = 0
 206 0000 80B5     		push	{r7, lr}
 207 0002 82B0     		sub	sp, sp, #8
 208 0004 00AF     		add	r7, sp, #0
 209 0006 7860     		str	r0, [r7, #4]
 210 0008 FFF7FEFF 		bl	chDbgCheckClassI
 211 000c 7B68     		ldr	r3, [r7, #4]
 212 000e 9B68     		ldr	r3, [r3, #8]
 213 0010 002B     		cmp	r3, #0
 214 0012 03DC     		bgt	.L14
 215 0014 7B68     		ldr	r3, [r7, #4]
 216 0016 1846     		mov	r0, r3
 217 0018 FFF7FEFF 		bl	chSemSignalI
 218              	.L14:
 219 001c 00BF     		nop
 220 001e 0837     		adds	r7, r7, #8
 221 0020 BD46     		mov	sp, r7
 222              		@ sp needed
 223 0022 80BD     		pop	{r7, pc}
 224              		.size	chBSemSignalI, .-chBSemSignalI
 225              		.section	.bss.adc2_values,"aw",%nobits
 226              		.align	2
 227              		.type	adc2_values, %object
 228              		.size	adc2_values, 64
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 5


 229              	adc2_values:
 230 0000 00000000 		.space	64
 230      00000000 
 230      00000000 
 230      00000000 
 230      00000000 
 231              		.section	.data.adc2_ready,"aw",%progbits
 232              		.align	2
 233              		.type	adc2_ready, %object
 234              		.size	adc2_ready, 12
 235              	adc2_ready:
 236 0000 00000000 		.word	adc2_ready
 237 0004 00000000 		.word	adc2_ready
 238 0008 00000000 		.word	0
 239              		.section	.bss.adc2_proximity_samples,"aw",%nobits
 240              		.align	2
 241              		.type	adc2_proximity_samples, %object
 242              		.size	adc2_proximity_samples, 32
 243              	adc2_proximity_samples:
 244 0000 00000000 		.space	32
 244      00000000 
 244      00000000 
 244      00000000 
 244      00000000 
 245              		.section	.bss.pulseSeqState,"aw",%nobits
 246              		.type	pulseSeqState, %object
 247              		.size	pulseSeqState, 1
 248              	pulseSeqState:
 249 0000 00       		.space	1
 250              		.section	.bss.calibrationInProgress,"aw",%nobits
 251              		.type	calibrationInProgress, %object
 252              		.size	calibrationInProgress, 1
 253              	calibrationInProgress:
 254 0000 00       		.space	1
 255              		.section	.bss.calibrationState,"aw",%nobits
 256              		.type	calibrationState, %object
 257              		.size	calibrationState, 1
 258              	calibrationState:
 259 0000 00       		.space	1
 260              		.section	.bss.calibrationNumSamples,"aw",%nobits
 261              		.type	calibrationNumSamples, %object
 262              		.size	calibrationNumSamples, 1
 263              	calibrationNumSamples:
 264 0000 00       		.space	1
 265              		.section	.bss.calibrationSum,"aw",%nobits
 266              		.align	2
 267              		.type	calibrationSum, %object
 268              		.size	calibrationSum, 32
 269              	calibrationSum:
 270 0000 00000000 		.space	32
 270      00000000 
 270      00000000 
 270      00000000 
 270      00000000 
 271              		.section	.bss.prox_values,"aw",%nobits
 272              		.align	2
 273              		.type	prox_values, %object
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 6


 274              		.size	prox_values, 128
 275              	prox_values:
 276 0000 00000000 		.space	128
 276      00000000 
 276      00000000 
 276      00000000 
 276      00000000 
 277              		.section	.text.adc_cb,"ax",%progbits
 278              		.align	1
 279              		.syntax unified
 280              		.thumb
 281              		.thumb_func
 282              		.fpu fpv4-sp-d16
 283              		.type	adc_cb, %function
 284              	adc_cb:
 285              		@ args = 0, pretend = 0, frame = 24
 286              		@ frame_needed = 1, uses_anonymous_args = 0
 287 0000 80B5     		push	{r7, lr}
 288 0002 86B0     		sub	sp, sp, #24
 289 0004 00AF     		add	r7, sp, #0
 290 0006 F860     		str	r0, [r7, #12]
 291 0008 B960     		str	r1, [r7, #8]
 292 000a 7A60     		str	r2, [r7, #4]
 293 000c 174B     		ldr	r3, .L18
 294 000e 3B61     		str	r3, [r7, #16]
 295 0010 FB68     		ldr	r3, [r7, #12]
 296 0012 1B69     		ldr	r3, [r3, #16]
 297 0014 5B88     		ldrh	r3, [r3, #2]
 298 0016 9B00     		lsls	r3, r3, #2
 299 0018 1A46     		mov	r2, r3
 300 001a 0021     		movs	r1, #0
 301 001c 1448     		ldr	r0, .L18+4
 302 001e FFF7FEFF 		bl	memset
 303 0022 0023     		movs	r3, #0
 304 0024 7B61     		str	r3, [r7, #20]
 305 0026 0CE0     		b	.L16
 306              	.L17:
 307 0028 7B69     		ldr	r3, [r7, #20]
 308 002a 5B00     		lsls	r3, r3, #1
 309 002c BA68     		ldr	r2, [r7, #8]
 310 002e 1344     		add	r3, r3, r2
 311 0030 1B88     		ldrh	r3, [r3]
 312 0032 1946     		mov	r1, r3
 313 0034 0E4A     		ldr	r2, .L18+4
 314 0036 7B69     		ldr	r3, [r7, #20]
 315 0038 42F82310 		str	r1, [r2, r3, lsl #2]
 316 003c 7B69     		ldr	r3, [r7, #20]
 317 003e 0133     		adds	r3, r3, #1
 318 0040 7B61     		str	r3, [r7, #20]
 319              	.L16:
 320 0042 FB68     		ldr	r3, [r7, #12]
 321 0044 1B69     		ldr	r3, [r3, #16]
 322 0046 5B88     		ldrh	r3, [r3, #2]
 323 0048 1A46     		mov	r2, r3
 324 004a 7B69     		ldr	r3, [r7, #20]
 325 004c 9342     		cmp	r3, r2
 326 004e EBD3     		bcc	.L17
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 7


 327 0050 FFF7FEFF 		bl	chSysLockFromISR
 328 0054 3869     		ldr	r0, [r7, #16]
 329 0056 FFF7FEFF 		bl	chBSemSignalI
 330 005a FFF7FEFF 		bl	chSysUnlockFromISR
 331 005e 054B     		ldr	r3, .L18+8
 332 0060 0122     		movs	r2, #1
 333 0062 1A70     		strb	r2, [r3]
 334 0064 00BF     		nop
 335 0066 1837     		adds	r7, r7, #24
 336 0068 BD46     		mov	sp, r7
 337              		@ sp needed
 338 006a 80BD     		pop	{r7, pc}
 339              	.L19:
 340              		.align	2
 341              	.L18:
 342 006c 00000000 		.word	adc2_ready
 343 0070 00000000 		.word	adc2_values
 344 0074 00000000 		.word	pulseSeqState
 345              		.size	adc_cb, .-adc_cb
 346              		.section	.rodata.adcgrpcfg2,"a",%progbits
 347              		.align	2
 348              		.type	adcgrpcfg2, %object
 349              		.size	adcgrpcfg2, 40
 350              	adcgrpcfg2:
 351 0000 01       		.byte	1
 352 0001 00       		.space	1
 353 0002 1000     		.short	16
 354 0004 00000000 		.word	adc_cb
 355 0008 00000000 		.word	0
 356 000c 00280000 		.word	10240
 357 0010 00000023 		.word	587202560
 358 0014 6DDB0200 		.word	187245
 359 0018 6DDBB62D 		.word	766958445
 360 001c 6FBDF500 		.word	16104815
 361 0020 0D39E514 		.word	350566669
 362 0024 2CB1D410 		.word	282374444
 363              		.section	.bss.proximity_thd_wa,"aw",%nobits
 364              		.align	3
 365              		.type	proximity_thd_wa, %object
 366              		.size	proximity_thd_wa, 632
 367              	proximity_thd_wa:
 368 0000 00000000 		.space	632
 368      00000000 
 368      00000000 
 368      00000000 
 368      00000000 
 369              		.section	.rodata
 370              		.align	2
 371              	.LC0:
 372 0000 2F70726F 		.ascii	"/proximity\000"
 372      78696D69 
 372      747900
 373              		.section	.text.proximity_thd,"ax",%progbits
 374              		.align	1
 375              		.syntax unified
 376              		.thumb
 377              		.thumb_func
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 8


 378              		.fpu fpv4-sp-d16
 379              		.type	proximity_thd, %function
 380              	proximity_thd:
 381              		@ args = 0, pretend = 0, frame = 144
 382              		@ frame_needed = 1, uses_anonymous_args = 0
 383 0000 80B5     		push	{r7, lr}
 384 0002 A6B0     		sub	sp, sp, #152
 385 0004 02AF     		add	r7, sp, #8
 386 0006 7860     		str	r0, [r7, #4]
 387 0008 8648     		ldr	r0, .L35
 388 000a FFF7FEFF 		bl	chRegSetThreadName
 389 000e 07F11403 		add	r3, r7, #20
 390 0012 7B61     		str	r3, [r7, #20]
 391 0014 07F11403 		add	r3, r7, #20
 392 0018 BB61     		str	r3, [r7, #24]
 393 001a 0023     		movs	r3, #0
 394 001c FB61     		str	r3, [r7, #28]
 395 001e 0023     		movs	r3, #0
 396 0020 3B62     		str	r3, [r7, #32]
 397 0022 0023     		movs	r3, #0
 398 0024 7B62     		str	r3, [r7, #36]
 399 0026 07F10C03 		add	r3, r7, #12
 400 002a FB60     		str	r3, [r7, #12]
 401 002c 07F10C03 		add	r3, r7, #12
 402 0030 3B61     		str	r3, [r7, #16]
 403 0032 07F10C02 		add	r2, r7, #12
 404 0036 07F11401 		add	r1, r7, #20
 405 003a 07F12800 		add	r0, r7, #40
 406 003e 8023     		movs	r3, #128
 407 0040 0093     		str	r3, [sp]
 408 0042 794B     		ldr	r3, .L35+4
 409 0044 FFF7FEFF 		bl	messagebus_topic_init
 410 0048 07F12803 		add	r3, r7, #40
 411 004c 774A     		ldr	r2, .L35+8
 412 004e 1946     		mov	r1, r3
 413 0050 7748     		ldr	r0, .L35+12
 414 0052 FFF7FEFF 		bl	messagebus_advertise_topic
 415              	.L33:
 416 0056 7748     		ldr	r0, .L35+16
 417 0058 FFF7FEFF 		bl	chBSemWait
 418 005c 764B     		ldr	r3, .L35+20
 419 005e 1B68     		ldr	r3, [r3]
 420 0060 714A     		ldr	r2, .L35+4
 421 0062 1360     		str	r3, [r2]
 422 0064 744B     		ldr	r3, .L35+20
 423 0066 1B69     		ldr	r3, [r3, #16]
 424 0068 6F4A     		ldr	r2, .L35+4
 425 006a 5360     		str	r3, [r2, #4]
 426 006c 724B     		ldr	r3, .L35+20
 427 006e 1B6A     		ldr	r3, [r3, #32]
 428 0070 6D4A     		ldr	r2, .L35+4
 429 0072 9360     		str	r3, [r2, #8]
 430 0074 704B     		ldr	r3, .L35+20
 431 0076 1B6B     		ldr	r3, [r3, #48]
 432 0078 6B4A     		ldr	r2, .L35+4
 433 007a D360     		str	r3, [r2, #12]
 434 007c 6E4B     		ldr	r3, .L35+20
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 9


 435 007e 5B68     		ldr	r3, [r3, #4]
 436 0080 694A     		ldr	r2, .L35+4
 437 0082 1361     		str	r3, [r2, #16]
 438 0084 6C4B     		ldr	r3, .L35+20
 439 0086 5B69     		ldr	r3, [r3, #20]
 440 0088 674A     		ldr	r2, .L35+4
 441 008a 5361     		str	r3, [r2, #20]
 442 008c 6A4B     		ldr	r3, .L35+20
 443 008e 5B6A     		ldr	r3, [r3, #36]
 444 0090 654A     		ldr	r2, .L35+4
 445 0092 9361     		str	r3, [r2, #24]
 446 0094 684B     		ldr	r3, .L35+20
 447 0096 5B6B     		ldr	r3, [r3, #52]
 448 0098 634A     		ldr	r2, .L35+4
 449 009a D361     		str	r3, [r2, #28]
 450 009c 664B     		ldr	r3, .L35+20
 451 009e 9B68     		ldr	r3, [r3, #8]
 452 00a0 614A     		ldr	r2, .L35+4
 453 00a2 1362     		str	r3, [r2, #32]
 454 00a4 644B     		ldr	r3, .L35+20
 455 00a6 9B69     		ldr	r3, [r3, #24]
 456 00a8 5F4A     		ldr	r2, .L35+4
 457 00aa 5362     		str	r3, [r2, #36]
 458 00ac 624B     		ldr	r3, .L35+20
 459 00ae 9B6A     		ldr	r3, [r3, #40]
 460 00b0 5D4A     		ldr	r2, .L35+4
 461 00b2 9362     		str	r3, [r2, #40]
 462 00b4 604B     		ldr	r3, .L35+20
 463 00b6 9B6B     		ldr	r3, [r3, #56]
 464 00b8 5B4A     		ldr	r2, .L35+4
 465 00ba D362     		str	r3, [r2, #44]
 466 00bc 5E4B     		ldr	r3, .L35+20
 467 00be DB68     		ldr	r3, [r3, #12]
 468 00c0 594A     		ldr	r2, .L35+4
 469 00c2 1363     		str	r3, [r2, #48]
 470 00c4 5C4B     		ldr	r3, .L35+20
 471 00c6 DB69     		ldr	r3, [r3, #28]
 472 00c8 574A     		ldr	r2, .L35+4
 473 00ca 5363     		str	r3, [r2, #52]
 474 00cc 5A4B     		ldr	r3, .L35+20
 475 00ce DB6A     		ldr	r3, [r3, #44]
 476 00d0 554A     		ldr	r2, .L35+4
 477 00d2 9363     		str	r3, [r2, #56]
 478 00d4 584B     		ldr	r3, .L35+20
 479 00d6 DB6B     		ldr	r3, [r3, #60]
 480 00d8 534A     		ldr	r2, .L35+4
 481 00da D363     		str	r3, [r2, #60]
 482 00dc 0023     		movs	r3, #0
 483 00de C7F88C30 		str	r3, [r7, #140]
 484 00e2 2BE0     		b	.L21
 485              	.L24:
 486 00e4 504A     		ldr	r2, .L35+4
 487 00e6 D7F88C30 		ldr	r3, [r7, #140]
 488 00ea 0833     		adds	r3, r3, #8
 489 00ec 52F82320 		ldr	r2, [r2, r3, lsl #2]
 490 00f0 4D49     		ldr	r1, .L35+4
 491 00f2 D7F88C30 		ldr	r3, [r7, #140]
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 10


 492 00f6 51F82330 		ldr	r3, [r1, r3, lsl #2]
 493 00fa 9A42     		cmp	r2, r3
 494 00fc 07D9     		bls	.L22
 495 00fe 4A4A     		ldr	r2, .L35+4
 496 0100 D7F88C30 		ldr	r3, [r7, #140]
 497 0104 1033     		adds	r3, r3, #16
 498 0106 0021     		movs	r1, #0
 499 0108 42F82310 		str	r1, [r2, r3, lsl #2]
 500 010c 11E0     		b	.L23
 501              	.L22:
 502 010e 464A     		ldr	r2, .L35+4
 503 0110 D7F88C30 		ldr	r3, [r7, #140]
 504 0114 52F82320 		ldr	r2, [r2, r3, lsl #2]
 505 0118 4349     		ldr	r1, .L35+4
 506 011a D7F88C30 		ldr	r3, [r7, #140]
 507 011e 0833     		adds	r3, r3, #8
 508 0120 51F82330 		ldr	r3, [r1, r3, lsl #2]
 509 0124 D21A     		subs	r2, r2, r3
 510 0126 4049     		ldr	r1, .L35+4
 511 0128 D7F88C30 		ldr	r3, [r7, #140]
 512 012c 1033     		adds	r3, r3, #16
 513 012e 41F82320 		str	r2, [r1, r3, lsl #2]
 514              	.L23:
 515 0132 D7F88C30 		ldr	r3, [r7, #140]
 516 0136 0133     		adds	r3, r3, #1
 517 0138 C7F88C30 		str	r3, [r7, #140]
 518              	.L21:
 519 013c D7F88C30 		ldr	r3, [r7, #140]
 520 0140 072B     		cmp	r3, #7
 521 0142 CFDD     		ble	.L24
 522 0144 07F12803 		add	r3, r7, #40
 523 0148 8022     		movs	r2, #128
 524 014a 3749     		ldr	r1, .L35+4
 525 014c 1846     		mov	r0, r3
 526 014e FFF7FEFF 		bl	messagebus_topic_publish
 527 0152 3A4B     		ldr	r3, .L35+24
 528 0154 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 529 0156 002B     		cmp	r3, #0
 530 0158 3FF47DAF 		beq	.L33
 531 015c 384B     		ldr	r3, .L35+28
 532 015e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 533 0160 002B     		cmp	r3, #0
 534 0162 02D0     		beq	.L26
 535 0164 012B     		cmp	r3, #1
 536 0166 11D0     		beq	.L27
 537 0168 5BE0     		b	.L25
 538              	.L26:
 539 016a 2022     		movs	r2, #32
 540 016c 0021     		movs	r1, #0
 541 016e 3548     		ldr	r0, .L35+32
 542 0170 FFF7FEFF 		bl	memset
 543 0174 2022     		movs	r2, #32
 544 0176 0021     		movs	r1, #0
 545 0178 3348     		ldr	r0, .L35+36
 546 017a FFF7FEFF 		bl	memset
 547 017e 334B     		ldr	r3, .L35+40
 548 0180 0022     		movs	r2, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 11


 549 0182 1A70     		strb	r2, [r3]
 550 0184 2E4B     		ldr	r3, .L35+28
 551 0186 0122     		movs	r2, #1
 552 0188 1A70     		strb	r2, [r3]
 553 018a 4AE0     		b	.L25
 554              	.L27:
 555 018c 0023     		movs	r3, #0
 556 018e C7F88830 		str	r3, [r7, #136]
 557 0192 15E0     		b	.L28
 558              	.L29:
 559 0194 D7F88830 		ldr	r3, [r7, #136]
 560 0198 1846     		mov	r0, r3
 561 019a FFF7FEFF 		bl	get_prox
 562 019e 0146     		mov	r1, r0
 563 01a0 294A     		ldr	r2, .L35+36
 564 01a2 D7F88830 		ldr	r3, [r7, #136]
 565 01a6 52F82330 		ldr	r3, [r2, r3, lsl #2]
 566 01aa CA18     		adds	r2, r1, r3
 567 01ac 2649     		ldr	r1, .L35+36
 568 01ae D7F88830 		ldr	r3, [r7, #136]
 569 01b2 41F82320 		str	r2, [r1, r3, lsl #2]
 570 01b6 D7F88830 		ldr	r3, [r7, #136]
 571 01ba 0133     		adds	r3, r3, #1
 572 01bc C7F88830 		str	r3, [r7, #136]
 573              	.L28:
 574 01c0 D7F88830 		ldr	r3, [r7, #136]
 575 01c4 072B     		cmp	r3, #7
 576 01c6 E5DD     		ble	.L29
 577 01c8 204B     		ldr	r3, .L35+40
 578 01ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 579 01cc 0133     		adds	r3, r3, #1
 580 01ce DAB2     		uxtb	r2, r3
 581 01d0 1E4B     		ldr	r3, .L35+40
 582 01d2 1A70     		strb	r2, [r3]
 583 01d4 1D4B     		ldr	r3, .L35+40
 584 01d6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 585 01d8 642B     		cmp	r3, #100
 586 01da 21D1     		bne	.L34
 587 01dc 0023     		movs	r3, #0
 588 01de C7F88430 		str	r3, [r7, #132]
 589 01e2 16E0     		b	.L31
 590              	.L32:
 591 01e4 184A     		ldr	r2, .L35+36
 592 01e6 D7F88430 		ldr	r3, [r7, #132]
 593 01ea 52F82330 		ldr	r3, [r2, r3, lsl #2]
 594 01ee 184A     		ldr	r2, .L35+44
 595 01f0 82FB0312 		smull	r1, r2, r2, r3
 596 01f4 5211     		asrs	r2, r2, #5
 597 01f6 DB17     		asrs	r3, r3, #31
 598 01f8 D31A     		subs	r3, r2, r3
 599 01fa 1946     		mov	r1, r3
 600 01fc 0A4A     		ldr	r2, .L35+4
 601 01fe D7F88430 		ldr	r3, [r7, #132]
 602 0202 1833     		adds	r3, r3, #24
 603 0204 42F82310 		str	r1, [r2, r3, lsl #2]
 604 0208 D7F88430 		ldr	r3, [r7, #132]
 605 020c 0133     		adds	r3, r3, #1
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 12


 606 020e C7F88430 		str	r3, [r7, #132]
 607              	.L31:
 608 0212 D7F88430 		ldr	r3, [r7, #132]
 609 0216 072B     		cmp	r3, #7
 610 0218 E4DD     		ble	.L32
 611 021a 084B     		ldr	r3, .L35+24
 612 021c 0022     		movs	r2, #0
 613 021e 1A70     		strb	r2, [r3]
 614              	.L34:
 615 0220 00BF     		nop
 616              	.L25:
 617 0222 18E7     		b	.L33
 618              	.L36:
 619              		.align	2
 620              	.L35:
 621 0224 00000000 		.word	__FUNCTION__.12255
 622 0228 00000000 		.word	prox_values
 623 022c 00000000 		.word	.LC0
 624 0230 00000000 		.word	bus
 625 0234 00000000 		.word	adc2_ready
 626 0238 00000000 		.word	adc2_values
 627 023c 00000000 		.word	calibrationInProgress
 628 0240 00000000 		.word	calibrationState
 629 0244 60000000 		.word	prox_values+96
 630 0248 00000000 		.word	calibrationSum
 631 024c 00000000 		.word	calibrationNumSamples
 632 0250 1F85EB51 		.word	1374389535
 633              		.size	proximity_thd, .-proximity_thd
 634              		.section	.text.pwm_reset_cb,"ax",%progbits
 635              		.align	1
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu fpv4-sp-d16
 640              		.type	pwm_reset_cb, %function
 641              	pwm_reset_cb:
 642              		@ args = 0, pretend = 0, frame = 8
 643              		@ frame_needed = 1, uses_anonymous_args = 0
 644              		@ link register save eliminated.
 645 0000 80B4     		push	{r7}
 646 0002 83B0     		sub	sp, sp, #12
 647 0004 00AF     		add	r7, sp, #0
 648 0006 7860     		str	r0, [r7, #4]
 649 0008 274B     		ldr	r3, .L51
 650 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 651 000c 082B     		cmp	r3, #8
 652 000e 44D8     		bhi	.L49
 653 0010 01A2     		adr	r2, .L40
 654 0012 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 655 0016 00BF     		.p2align 2
 656              	.L40:
 657 0018 99000000 		.word	.L50+1
 658 001c 3D000000 		.word	.L41+1
 659 0020 45000000 		.word	.L42+1
 660 0024 55000000 		.word	.L43+1
 661 0028 5D000000 		.word	.L44+1
 662 002c 6D000000 		.word	.L45+1
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 13


 663 0030 75000000 		.word	.L46+1
 664 0034 83000000 		.word	.L47+1
 665 0038 8B000000 		.word	.L48+1
 666              		.p2align 1
 667              	.L41:
 668 003c 1A4B     		ldr	r3, .L51
 669 003e 0222     		movs	r2, #2
 670 0040 1A70     		strb	r2, [r3]
 671 0042 2AE0     		b	.L38
 672              	.L42:
 673 0044 194B     		ldr	r3, .L51+4
 674 0046 4FF48052 		mov	r2, #4096
 675 004a 1A83     		strh	r2, [r3, #24]	@ movhi
 676 004c 164B     		ldr	r3, .L51
 677 004e 0322     		movs	r2, #3
 678 0050 1A70     		strb	r2, [r3]
 679 0052 22E0     		b	.L38
 680              	.L43:
 681 0054 144B     		ldr	r3, .L51
 682 0056 0422     		movs	r2, #4
 683 0058 1A70     		strb	r2, [r3]
 684 005a 1EE0     		b	.L38
 685              	.L44:
 686 005c 134B     		ldr	r3, .L51+4
 687 005e 4FF48042 		mov	r2, #16384
 688 0062 1A83     		strh	r2, [r3, #24]	@ movhi
 689 0064 104B     		ldr	r3, .L51
 690 0066 0522     		movs	r2, #5
 691 0068 1A70     		strb	r2, [r3]
 692 006a 16E0     		b	.L38
 693              	.L45:
 694 006c 0E4B     		ldr	r3, .L51
 695 006e 0622     		movs	r2, #6
 696 0070 1A70     		strb	r2, [r3]
 697 0072 12E0     		b	.L38
 698              	.L46:
 699 0074 0E4B     		ldr	r3, .L51+8
 700 0076 0422     		movs	r2, #4
 701 0078 1A83     		strh	r2, [r3, #24]	@ movhi
 702 007a 0B4B     		ldr	r3, .L51
 703 007c 0722     		movs	r2, #7
 704 007e 1A70     		strb	r2, [r3]
 705 0080 0BE0     		b	.L38
 706              	.L47:
 707 0082 094B     		ldr	r3, .L51
 708 0084 0822     		movs	r2, #8
 709 0086 1A70     		strb	r2, [r3]
 710 0088 07E0     		b	.L38
 711              	.L48:
 712 008a 094B     		ldr	r3, .L51+8
 713 008c 0822     		movs	r2, #8
 714 008e 1A83     		strh	r2, [r3, #24]	@ movhi
 715 0090 054B     		ldr	r3, .L51
 716 0092 0122     		movs	r2, #1
 717 0094 1A70     		strb	r2, [r3]
 718 0096 00E0     		b	.L38
 719              	.L50:
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 14


 720 0098 00BF     		nop
 721              	.L38:
 722              	.L49:
 723 009a 00BF     		nop
 724 009c 0C37     		adds	r7, r7, #12
 725 009e BD46     		mov	sp, r7
 726              		@ sp needed
 727 00a0 5DF8047B 		ldr	r7, [sp], #4
 728 00a4 7047     		bx	lr
 729              	.L52:
 730 00a6 00BF     		.align	2
 731              	.L51:
 732 00a8 00000000 		.word	pulseSeqState
 733 00ac 00040240 		.word	1073873920
 734 00b0 00100240 		.word	1073876992
 735              		.size	pwm_reset_cb, .-pwm_reset_cb
 736              		.section	.text.pwm_ch1_cb,"ax",%progbits
 737              		.align	1
 738              		.syntax unified
 739              		.thumb
 740              		.thumb_func
 741              		.fpu fpv4-sp-d16
 742              		.type	pwm_ch1_cb, %function
 743              	pwm_ch1_cb:
 744              		@ args = 0, pretend = 0, frame = 8
 745              		@ frame_needed = 1, uses_anonymous_args = 0
 746              		@ link register save eliminated.
 747 0000 80B4     		push	{r7}
 748 0002 83B0     		sub	sp, sp, #12
 749 0004 00AF     		add	r7, sp, #0
 750 0006 7860     		str	r0, [r7, #4]
 751 0008 094B     		ldr	r3, .L54
 752 000a 4FF48052 		mov	r2, #4096
 753 000e 5A83     		strh	r2, [r3, #26]	@ movhi
 754 0010 074B     		ldr	r3, .L54
 755 0012 4FF48042 		mov	r2, #16384
 756 0016 5A83     		strh	r2, [r3, #26]	@ movhi
 757 0018 064B     		ldr	r3, .L54+4
 758 001a 0422     		movs	r2, #4
 759 001c 5A83     		strh	r2, [r3, #26]	@ movhi
 760 001e 054B     		ldr	r3, .L54+4
 761 0020 0822     		movs	r2, #8
 762 0022 5A83     		strh	r2, [r3, #26]	@ movhi
 763 0024 00BF     		nop
 764 0026 0C37     		adds	r7, r7, #12
 765 0028 BD46     		mov	sp, r7
 766              		@ sp needed
 767 002a 5DF8047B 		ldr	r7, [sp], #4
 768 002e 7047     		bx	lr
 769              	.L55:
 770              		.align	2
 771              	.L54:
 772 0030 00040240 		.word	1073873920
 773 0034 00100240 		.word	1073876992
 774              		.size	pwm_ch1_cb, .-pwm_ch1_cb
 775              		.section	.text.proximity_start,"ax",%progbits
 776              		.align	1
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 15


 777              		.global	proximity_start
 778              		.syntax unified
 779              		.thumb
 780              		.thumb_func
 781              		.fpu fpv4-sp-d16
 782              		.type	proximity_start, %function
 783              	proximity_start:
 784              		@ args = 0, pretend = 0, frame = 0
 785              		@ frame_needed = 1, uses_anonymous_args = 0
 786 0000 80B5     		push	{r7, lr}
 787 0002 82B0     		sub	sp, sp, #8
 788 0004 02AF     		add	r7, sp, #8
 789 0006 1A4B     		ldr	r3, .L60
 790 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 791 000a 012B     		cmp	r3, #1
 792 000c 2DD1     		bne	.L59
 793 000e 0021     		movs	r1, #0
 794 0010 1748     		ldr	r0, .L60
 795 0012 FFF7FEFF 		bl	adcStart
 796 0016 1648     		ldr	r0, .L60
 797 0018 FFF7FEFF 		bl	adcAcquireBus
 798 001c 0123     		movs	r3, #1
 799 001e 154A     		ldr	r2, .L60+4
 800 0020 1549     		ldr	r1, .L60+8
 801 0022 1348     		ldr	r0, .L60
 802 0024 FFF7FEFF 		bl	adcStartConversion
 803 0028 1449     		ldr	r1, .L60+12
 804 002a 1548     		ldr	r0, .L60+16
 805 002c FFF7FEFF 		bl	pwmStart
 806 0030 4FF49672 		mov	r2, #300
 807 0034 0021     		movs	r1, #0
 808 0036 1248     		ldr	r0, .L60+16
 809 0038 FFF7FEFF 		bl	pwmEnableChannel
 810 003c 0021     		movs	r1, #0
 811 003e 1048     		ldr	r0, .L60+16
 812 0040 FFF7FEFF 		bl	pwmEnableChannelNotification
 813 0044 0E48     		ldr	r0, .L60+16
 814 0046 FFF7FEFF 		bl	pwmEnablePeriodicNotification
 815 004a 4FF48272 		mov	r2, #260
 816 004e 0121     		movs	r1, #1
 817 0050 0B48     		ldr	r0, .L60+16
 818 0052 FFF7FEFF 		bl	pwmEnableChannel
 819 0056 0023     		movs	r3, #0
 820 0058 0093     		str	r3, [sp]
 821 005a 0A4B     		ldr	r3, .L60+20
 822 005c 4022     		movs	r2, #64
 823 005e 4FF41E71 		mov	r1, #632
 824 0062 0948     		ldr	r0, .L60+24
 825 0064 FFF7FEFF 		bl	chThdCreateStatic
 826 0068 00E0     		b	.L56
 827              	.L59:
 828 006a 00BF     		nop
 829              	.L56:
 830 006c BD46     		mov	sp, r7
 831              		@ sp needed
 832 006e 80BD     		pop	{r7, pc}
 833              	.L61:
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 16


 834              		.align	2
 835              	.L60:
 836 0070 00000000 		.word	ADCD1
 837 0074 00000000 		.word	adc2_proximity_samples
 838 0078 00000000 		.word	adcgrpcfg2
 839 007c 00000000 		.word	pwmcfg_proximity.12294
 840 0080 00000000 		.word	PWMD2
 841 0084 00000000 		.word	proximity_thd
 842 0088 00000000 		.word	proximity_thd_wa
 843              		.size	proximity_start, .-proximity_start
 844              		.section	.text.calibrate_ir,"ax",%progbits
 845              		.align	1
 846              		.global	calibrate_ir
 847              		.syntax unified
 848              		.thumb
 849              		.thumb_func
 850              		.fpu fpv4-sp-d16
 851              		.type	calibrate_ir, %function
 852              	calibrate_ir:
 853              		@ args = 0, pretend = 0, frame = 0
 854              		@ frame_needed = 1, uses_anonymous_args = 0
 855 0000 80B5     		push	{r7, lr}
 856 0002 00AF     		add	r7, sp, #0
 857 0004 074B     		ldr	r3, .L65
 858 0006 0022     		movs	r2, #0
 859 0008 1A70     		strb	r2, [r3]
 860 000a 074B     		ldr	r3, .L65+4
 861 000c 0122     		movs	r2, #1
 862 000e 1A70     		strb	r2, [r3]
 863 0010 02E0     		b	.L63
 864              	.L64:
 865 0012 1420     		movs	r0, #20
 866 0014 FFF7FEFF 		bl	chThdSleep
 867              	.L63:
 868 0018 034B     		ldr	r3, .L65+4
 869 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 870 001c 002B     		cmp	r3, #0
 871 001e F8D1     		bne	.L64
 872 0020 00BF     		nop
 873 0022 80BD     		pop	{r7, pc}
 874              	.L66:
 875              		.align	2
 876              	.L65:
 877 0024 00000000 		.word	calibrationState
 878 0028 00000000 		.word	calibrationInProgress
 879              		.size	calibrate_ir, .-calibrate_ir
 880              		.section	.text.get_prox,"ax",%progbits
 881              		.align	1
 882              		.global	get_prox
 883              		.syntax unified
 884              		.thumb
 885              		.thumb_func
 886              		.fpu fpv4-sp-d16
 887              		.type	get_prox, %function
 888              	get_prox:
 889              		@ args = 0, pretend = 0, frame = 8
 890              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 17


 891              		@ link register save eliminated.
 892 0000 80B4     		push	{r7}
 893 0002 83B0     		sub	sp, sp, #12
 894 0004 00AF     		add	r7, sp, #0
 895 0006 7860     		str	r0, [r7, #4]
 896 0008 7B68     		ldr	r3, [r7, #4]
 897 000a 072B     		cmp	r3, #7
 898 000c 01D9     		bls	.L68
 899 000e 0023     		movs	r3, #0
 900 0010 04E0     		b	.L69
 901              	.L68:
 902 0012 054A     		ldr	r2, .L70
 903 0014 7B68     		ldr	r3, [r7, #4]
 904 0016 1033     		adds	r3, r3, #16
 905 0018 52F82330 		ldr	r3, [r2, r3, lsl #2]
 906              	.L69:
 907 001c 1846     		mov	r0, r3
 908 001e 0C37     		adds	r7, r7, #12
 909 0020 BD46     		mov	sp, r7
 910              		@ sp needed
 911 0022 5DF8047B 		ldr	r7, [sp], #4
 912 0026 7047     		bx	lr
 913              	.L71:
 914              		.align	2
 915              	.L70:
 916 0028 00000000 		.word	prox_values
 917              		.size	get_prox, .-get_prox
 918              		.section	.text.get_calibrated_prox,"ax",%progbits
 919              		.align	1
 920              		.global	get_calibrated_prox
 921              		.syntax unified
 922              		.thumb
 923              		.thumb_func
 924              		.fpu fpv4-sp-d16
 925              		.type	get_calibrated_prox, %function
 926              	get_calibrated_prox:
 927              		@ args = 0, pretend = 0, frame = 16
 928              		@ frame_needed = 1, uses_anonymous_args = 0
 929              		@ link register save eliminated.
 930 0000 80B4     		push	{r7}
 931 0002 85B0     		sub	sp, sp, #20
 932 0004 00AF     		add	r7, sp, #0
 933 0006 7860     		str	r0, [r7, #4]
 934 0008 7B68     		ldr	r3, [r7, #4]
 935 000a 072B     		cmp	r3, #7
 936 000c 01D9     		bls	.L73
 937 000e 0023     		movs	r3, #0
 938 0010 11E0     		b	.L74
 939              	.L73:
 940 0012 0C4A     		ldr	r2, .L76
 941 0014 7B68     		ldr	r3, [r7, #4]
 942 0016 1033     		adds	r3, r3, #16
 943 0018 52F82320 		ldr	r2, [r2, r3, lsl #2]
 944 001c 0949     		ldr	r1, .L76
 945 001e 7B68     		ldr	r3, [r7, #4]
 946 0020 1833     		adds	r3, r3, #24
 947 0022 51F82330 		ldr	r3, [r1, r3, lsl #2]
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 18


 948 0026 D31A     		subs	r3, r2, r3
 949 0028 FB60     		str	r3, [r7, #12]
 950 002a FB68     		ldr	r3, [r7, #12]
 951 002c 002B     		cmp	r3, #0
 952 002e 01DD     		ble	.L75
 953 0030 FB68     		ldr	r3, [r7, #12]
 954 0032 00E0     		b	.L74
 955              	.L75:
 956 0034 0023     		movs	r3, #0
 957              	.L74:
 958 0036 1846     		mov	r0, r3
 959 0038 1437     		adds	r7, r7, #20
 960 003a BD46     		mov	sp, r7
 961              		@ sp needed
 962 003c 5DF8047B 		ldr	r7, [sp], #4
 963 0040 7047     		bx	lr
 964              	.L77:
 965 0042 00BF     		.align	2
 966              	.L76:
 967 0044 00000000 		.word	prox_values
 968              		.size	get_calibrated_prox, .-get_calibrated_prox
 969              		.section	.text.get_ambient_light,"ax",%progbits
 970              		.align	1
 971              		.global	get_ambient_light
 972              		.syntax unified
 973              		.thumb
 974              		.thumb_func
 975              		.fpu fpv4-sp-d16
 976              		.type	get_ambient_light, %function
 977              	get_ambient_light:
 978              		@ args = 0, pretend = 0, frame = 8
 979              		@ frame_needed = 1, uses_anonymous_args = 0
 980              		@ link register save eliminated.
 981 0000 80B4     		push	{r7}
 982 0002 83B0     		sub	sp, sp, #12
 983 0004 00AF     		add	r7, sp, #0
 984 0006 7860     		str	r0, [r7, #4]
 985 0008 7B68     		ldr	r3, [r7, #4]
 986 000a 072B     		cmp	r3, #7
 987 000c 01D9     		bls	.L79
 988 000e 0023     		movs	r3, #0
 989 0010 03E0     		b	.L80
 990              	.L79:
 991 0012 054A     		ldr	r2, .L81
 992 0014 7B68     		ldr	r3, [r7, #4]
 993 0016 52F82330 		ldr	r3, [r2, r3, lsl #2]
 994              	.L80:
 995 001a 1846     		mov	r0, r3
 996 001c 0C37     		adds	r7, r7, #12
 997 001e BD46     		mov	sp, r7
 998              		@ sp needed
 999 0020 5DF8047B 		ldr	r7, [sp], #4
 1000 0024 7047     		bx	lr
 1001              	.L82:
 1002 0026 00BF     		.align	2
 1003              	.L81:
 1004 0028 00000000 		.word	prox_values
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 19


 1005              		.size	get_ambient_light, .-get_ambient_light
 1006              		.section	.rodata.__FUNCTION__.12255,"a",%progbits
 1007              		.align	2
 1008              		.type	__FUNCTION__.12255, %object
 1009              		.size	__FUNCTION__.12255, 14
 1010              	__FUNCTION__.12255:
 1011 0000 70726F78 		.ascii	"proximity_thd\000"
 1011      696D6974 
 1011      795F7468 
 1011      6400
 1012              		.section	.rodata.pwmcfg_proximity.12294,"a",%progbits
 1013              		.align	2
 1014              		.type	pwmcfg_proximity.12294, %object
 1015              		.size	pwmcfg_proximity.12294, 52
 1016              	pwmcfg_proximity.12294:
 1017 0000 40420F00 		.word	1000000
 1018 0004 E2040000 		.word	1250
 1019 0008 00000000 		.word	pwm_reset_cb
 1020 000c 01000000 		.word	1
 1021 0010 00000000 		.word	pwm_ch1_cb
 1022 0014 01000000 		.word	1
 1023 0018 00000000 		.word	0
 1024 001c 00000000 		.word	0
 1025 0020 00000000 		.word	0
 1026 0024 00000000 		.word	0
 1027 0028 00000000 		.word	0
 1028 002c 00000000 		.word	0
 1029 0030 00000000 		.space	4
 1030              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 7-2017-q4-major) 7.2.1 20170904 (release) [ARM
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 proximity.c
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:15     .text.port_lock:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:21     .text.port_lock:0000000000000000 port_lock
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:45     .text.port_unlock:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:51     .text.port_unlock:0000000000000000 port_unlock
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:75     .text.port_lock_from_isr:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:81     .text.port_lock_from_isr:0000000000000000 port_lock_from_isr
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:91     .text.port_unlock_from_isr:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:97     .text.port_unlock_from_isr:0000000000000000 port_unlock_from_isr
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:107    .text.chSysLockFromISR:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:113    .text.chSysLockFromISR:0000000000000000 chSysLockFromISR
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:125    .text.chSysUnlockFromISR:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:131    .text.chSysUnlockFromISR:0000000000000000 chSysUnlockFromISR
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:143    .text.chRegSetThreadName:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:149    .text.chRegSetThreadName:0000000000000000 chRegSetThreadName
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:170    .text.chRegSetThreadName:000000000000001c $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:173    .text.chBSemWait:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:179    .text.chBSemWait:0000000000000000 chBSemWait
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:197    .text.chBSemSignalI:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:203    .text.chBSemSignalI:0000000000000000 chBSemSignalI
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:226    .bss.adc2_values:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:229    .bss.adc2_values:0000000000000000 adc2_values
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:232    .data.adc2_ready:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:235    .data.adc2_ready:0000000000000000 adc2_ready
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:240    .bss.adc2_proximity_samples:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:243    .bss.adc2_proximity_samples:0000000000000000 adc2_proximity_samples
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:248    .bss.pulseSeqState:0000000000000000 pulseSeqState
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:249    .bss.pulseSeqState:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:253    .bss.calibrationInProgress:0000000000000000 calibrationInProgress
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:254    .bss.calibrationInProgress:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:258    .bss.calibrationState:0000000000000000 calibrationState
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:259    .bss.calibrationState:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:263    .bss.calibrationNumSamples:0000000000000000 calibrationNumSamples
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:264    .bss.calibrationNumSamples:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:266    .bss.calibrationSum:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:269    .bss.calibrationSum:0000000000000000 calibrationSum
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:272    .bss.prox_values:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:275    .bss.prox_values:0000000000000000 prox_values
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:278    .text.adc_cb:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:284    .text.adc_cb:0000000000000000 adc_cb
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:342    .text.adc_cb:000000000000006c $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:347    .rodata.adcgrpcfg2:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:350    .rodata.adcgrpcfg2:0000000000000000 adcgrpcfg2
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:364    .bss.proximity_thd_wa:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:367    .bss.proximity_thd_wa:0000000000000000 proximity_thd_wa
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:370    .rodata:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:374    .text.proximity_thd:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:380    .text.proximity_thd:0000000000000000 proximity_thd
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:888    .text.get_prox:0000000000000000 get_prox
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:621    .text.proximity_thd:0000000000000224 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:1010   .rodata.__FUNCTION__.12255:0000000000000000 __FUNCTION__.12255
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:635    .text.pwm_reset_cb:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:641    .text.pwm_reset_cb:0000000000000000 pwm_reset_cb
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:657    .text.pwm_reset_cb:0000000000000018 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:666    .text.pwm_reset_cb:000000000000003c $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:732    .text.pwm_reset_cb:00000000000000a8 $d
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s 			page 21


/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:737    .text.pwm_ch1_cb:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:743    .text.pwm_ch1_cb:0000000000000000 pwm_ch1_cb
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:772    .text.pwm_ch1_cb:0000000000000030 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:776    .text.proximity_start:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:783    .text.proximity_start:0000000000000000 proximity_start
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:836    .text.proximity_start:0000000000000070 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:1016   .rodata.pwmcfg_proximity.12294:0000000000000000 pwmcfg_proximity.12294
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:845    .text.calibrate_ir:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:852    .text.calibrate_ir:0000000000000000 calibrate_ir
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:877    .text.calibrate_ir:0000000000000024 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:881    .text.get_prox:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:916    .text.get_prox:0000000000000028 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:919    .text.get_calibrated_prox:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:926    .text.get_calibrated_prox:0000000000000000 get_calibrated_prox
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:967    .text.get_calibrated_prox:0000000000000044 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:970    .text.get_ambient_light:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:977    .text.get_ambient_light:0000000000000000 get_ambient_light
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:1004   .text.get_ambient_light:0000000000000028 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:1007   .rodata.__FUNCTION__.12255:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccBAGKhg.s:1013   .rodata.pwmcfg_proximity.12294:0000000000000000 $d

UNDEFINED SYMBOLS
_stats_start_measure_crit_isr
_dbg_check_lock_from_isr
_dbg_check_unlock_from_isr
_stats_stop_measure_crit_isr
ch
chSemWait
chDbgCheckClassI
chSemSignalI
memset
messagebus_topic_init
messagebus_advertise_topic
messagebus_topic_publish
bus
adcStart
adcAcquireBus
adcStartConversion
pwmStart
pwmEnableChannel
pwmEnableChannelNotification
pwmEnablePeriodicNotification
chThdCreateStatic
ADCD1
PWMD2
chThdSleep

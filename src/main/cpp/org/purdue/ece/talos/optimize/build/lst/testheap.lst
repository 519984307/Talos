ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"testheap.c"
  14              		.section	.bss.test_heap,"aw",%nobits
  15              		.align	3
  16              		.type	test_heap, %object
  17              		.size	test_heap, 40
  18              	test_heap:
  19 0000 00000000 		.space	40
  19      00000000 
  19      00000000 
  19      00000000 
  19      00000000 
  20              		.section	.text.heap1_setup,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  25              		.fpu fpv4-sp-d16
  26              		.type	heap1_setup, %function
  27              	heap1_setup:
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 1, uses_anonymous_args = 0
  30 0000 80B5     		push	{r7, lr}
  31 0002 00AF     		add	r7, sp, #0
  32 0004 40F6D812 		movw	r2, #2520
  33 0008 0249     		ldr	r1, .L2
  34 000a 0348     		ldr	r0, .L2+4
  35 000c FFF7FEFF 		bl	chHeapObjectInit
  36 0010 00BF     		nop
  37 0012 80BD     		pop	{r7, pc}
  38              	.L3:
  39              		.align	2
  40              	.L2:
  41 0014 00000000 		.word	test
  42 0018 00000000 		.word	test_heap
  43              		.size	heap1_setup, .-heap1_setup
  44              		.section	.text.heap1_execute,"ax",%progbits
  45              		.align	1
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  49              		.fpu fpv4-sp-d16
  50              		.type	heap1_execute, %function
  51              	heap1_execute:
  52              		@ args = 0, pretend = 0, frame = 24
  53              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 2


  54 0000 80B5     		push	{r7, lr}
  55 0002 86B0     		sub	sp, sp, #24
  56 0004 00AF     		add	r7, sp, #0
  57 0006 FFF7FEFF 		bl	chCoreGetStatusX
  58 000a 3B1D     		adds	r3, r7, #4
  59 000c 1946     		mov	r1, r3
  60 000e 0020     		movs	r0, #0
  61 0010 FFF7FEFF 		bl	chHeapStatus
  62 0014 1021     		movs	r1, #16
  63 0016 0020     		movs	r0, #0
  64 0018 FFF7FEFF 		bl	chHeapAlloc
  65 001c 7861     		str	r0, [r7, #20]
  66 001e 7B69     		ldr	r3, [r7, #20]
  67 0020 002B     		cmp	r3, #0
  68 0022 14BF     		ite	ne
  69 0024 0123     		movne	r3, #1
  70 0026 0023     		moveq	r3, #0
  71 0028 DBB2     		uxtb	r3, r3
  72 002a 1946     		mov	r1, r3
  73 002c 0120     		movs	r0, #1
  74 002e FFF7FEFF 		bl	_test_assert
  75 0032 0346     		mov	r3, r0
  76 0034 002B     		cmp	r3, #0
  77 0036 40F05581 		bne	.L22
  78 003a 7869     		ldr	r0, [r7, #20]
  79 003c FFF7FEFF 		bl	chHeapFree
  80 0040 6FF0FF01 		mvn	r1, #255
  81 0044 0020     		movs	r0, #0
  82 0046 FFF7FEFF 		bl	chHeapAlloc
  83 004a 7861     		str	r0, [r7, #20]
  84 004c 7B69     		ldr	r3, [r7, #20]
  85 004e 002B     		cmp	r3, #0
  86 0050 0CBF     		ite	eq
  87 0052 0123     		moveq	r3, #1
  88 0054 0023     		movne	r3, #0
  89 0056 DBB2     		uxtb	r3, r3
  90 0058 1946     		mov	r1, r3
  91 005a 0220     		movs	r0, #2
  92 005c FFF7FEFF 		bl	_test_assert
  93 0060 0346     		mov	r3, r0
  94 0062 002B     		cmp	r3, #0
  95 0064 40F04081 		bne	.L23
  96 0068 3B1D     		adds	r3, r7, #4
  97 006a 1946     		mov	r1, r3
  98 006c A948     		ldr	r0, .L33
  99 006e FFF7FEFF 		bl	chHeapStatus
 100 0072 1021     		movs	r1, #16
 101 0074 A748     		ldr	r0, .L33
 102 0076 FFF7FEFF 		bl	chHeapAlloc
 103 007a 7861     		str	r0, [r7, #20]
 104 007c 1021     		movs	r1, #16
 105 007e A548     		ldr	r0, .L33
 106 0080 FFF7FEFF 		bl	chHeapAlloc
 107 0084 3861     		str	r0, [r7, #16]
 108 0086 1021     		movs	r1, #16
 109 0088 A248     		ldr	r0, .L33
 110 008a FFF7FEFF 		bl	chHeapAlloc
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 3


 111 008e F860     		str	r0, [r7, #12]
 112 0090 7869     		ldr	r0, [r7, #20]
 113 0092 FFF7FEFF 		bl	chHeapFree
 114 0096 3869     		ldr	r0, [r7, #16]
 115 0098 FFF7FEFF 		bl	chHeapFree
 116 009c F868     		ldr	r0, [r7, #12]
 117 009e FFF7FEFF 		bl	chHeapFree
 118 00a2 07F10803 		add	r3, r7, #8
 119 00a6 1946     		mov	r1, r3
 120 00a8 9A48     		ldr	r0, .L33
 121 00aa FFF7FEFF 		bl	chHeapStatus
 122 00ae 0346     		mov	r3, r0
 123 00b0 012B     		cmp	r3, #1
 124 00b2 0CBF     		ite	eq
 125 00b4 0123     		moveq	r3, #1
 126 00b6 0023     		movne	r3, #0
 127 00b8 DBB2     		uxtb	r3, r3
 128 00ba 1946     		mov	r1, r3
 129 00bc 0320     		movs	r0, #3
 130 00be FFF7FEFF 		bl	_test_assert
 131 00c2 0346     		mov	r3, r0
 132 00c4 002B     		cmp	r3, #0
 133 00c6 40F01181 		bne	.L24
 134 00ca 1021     		movs	r1, #16
 135 00cc 9148     		ldr	r0, .L33
 136 00ce FFF7FEFF 		bl	chHeapAlloc
 137 00d2 7861     		str	r0, [r7, #20]
 138 00d4 1021     		movs	r1, #16
 139 00d6 8F48     		ldr	r0, .L33
 140 00d8 FFF7FEFF 		bl	chHeapAlloc
 141 00dc 3861     		str	r0, [r7, #16]
 142 00de 1021     		movs	r1, #16
 143 00e0 8C48     		ldr	r0, .L33
 144 00e2 FFF7FEFF 		bl	chHeapAlloc
 145 00e6 F860     		str	r0, [r7, #12]
 146 00e8 F868     		ldr	r0, [r7, #12]
 147 00ea FFF7FEFF 		bl	chHeapFree
 148 00ee 3869     		ldr	r0, [r7, #16]
 149 00f0 FFF7FEFF 		bl	chHeapFree
 150 00f4 7869     		ldr	r0, [r7, #20]
 151 00f6 FFF7FEFF 		bl	chHeapFree
 152 00fa 07F10803 		add	r3, r7, #8
 153 00fe 1946     		mov	r1, r3
 154 0100 8448     		ldr	r0, .L33
 155 0102 FFF7FEFF 		bl	chHeapStatus
 156 0106 0346     		mov	r3, r0
 157 0108 012B     		cmp	r3, #1
 158 010a 0CBF     		ite	eq
 159 010c 0123     		moveq	r3, #1
 160 010e 0023     		movne	r3, #0
 161 0110 DBB2     		uxtb	r3, r3
 162 0112 1946     		mov	r1, r3
 163 0114 0420     		movs	r0, #4
 164 0116 FFF7FEFF 		bl	_test_assert
 165 011a 0346     		mov	r3, r0
 166 011c 002B     		cmp	r3, #0
 167 011e 40F0E780 		bne	.L25
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 4


 168 0122 1121     		movs	r1, #17
 169 0124 7B48     		ldr	r0, .L33
 170 0126 FFF7FEFF 		bl	chHeapAlloc
 171 012a 7861     		str	r0, [r7, #20]
 172 012c 1021     		movs	r1, #16
 173 012e 7948     		ldr	r0, .L33
 174 0130 FFF7FEFF 		bl	chHeapAlloc
 175 0134 3861     		str	r0, [r7, #16]
 176 0136 7869     		ldr	r0, [r7, #20]
 177 0138 FFF7FEFF 		bl	chHeapFree
 178 013c 07F10803 		add	r3, r7, #8
 179 0140 1946     		mov	r1, r3
 180 0142 7448     		ldr	r0, .L33
 181 0144 FFF7FEFF 		bl	chHeapStatus
 182 0148 0346     		mov	r3, r0
 183 014a 022B     		cmp	r3, #2
 184 014c 0CBF     		ite	eq
 185 014e 0123     		moveq	r3, #1
 186 0150 0023     		movne	r3, #0
 187 0152 DBB2     		uxtb	r3, r3
 188 0154 1946     		mov	r1, r3
 189 0156 0520     		movs	r0, #5
 190 0158 FFF7FEFF 		bl	_test_assert
 191 015c 0346     		mov	r3, r0
 192 015e 002B     		cmp	r3, #0
 193 0160 40F0C880 		bne	.L26
 194 0164 1021     		movs	r1, #16
 195 0166 6B48     		ldr	r0, .L33
 196 0168 FFF7FEFF 		bl	chHeapAlloc
 197 016c 7861     		str	r0, [r7, #20]
 198 016e 07F10803 		add	r3, r7, #8
 199 0172 1946     		mov	r1, r3
 200 0174 6748     		ldr	r0, .L33
 201 0176 FFF7FEFF 		bl	chHeapStatus
 202 017a 0346     		mov	r3, r0
 203 017c 012B     		cmp	r3, #1
 204 017e 08D0     		beq	.L11
 205 0180 07F10803 		add	r3, r7, #8
 206 0184 1946     		mov	r1, r3
 207 0186 6348     		ldr	r0, .L33
 208 0188 FFF7FEFF 		bl	chHeapStatus
 209 018c 0346     		mov	r3, r0
 210 018e 022B     		cmp	r3, #2
 211 0190 01D1     		bne	.L12
 212              	.L11:
 213 0192 0123     		movs	r3, #1
 214 0194 00E0     		b	.L13
 215              	.L12:
 216 0196 0023     		movs	r3, #0
 217              	.L13:
 218 0198 03F00103 		and	r3, r3, #1
 219 019c DBB2     		uxtb	r3, r3
 220 019e 1946     		mov	r1, r3
 221 01a0 0620     		movs	r0, #6
 222 01a2 FFF7FEFF 		bl	_test_assert
 223 01a6 0346     		mov	r3, r0
 224 01a8 002B     		cmp	r3, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 5


 225 01aa 40F0A580 		bne	.L27
 226 01ae 3869     		ldr	r0, [r7, #16]
 227 01b0 FFF7FEFF 		bl	chHeapFree
 228 01b4 7869     		ldr	r0, [r7, #20]
 229 01b6 FFF7FEFF 		bl	chHeapFree
 230 01ba 07F10803 		add	r3, r7, #8
 231 01be 1946     		mov	r1, r3
 232 01c0 5448     		ldr	r0, .L33
 233 01c2 FFF7FEFF 		bl	chHeapStatus
 234 01c6 0346     		mov	r3, r0
 235 01c8 012B     		cmp	r3, #1
 236 01ca 0CBF     		ite	eq
 237 01cc 0123     		moveq	r3, #1
 238 01ce 0023     		movne	r3, #0
 239 01d0 DBB2     		uxtb	r3, r3
 240 01d2 1946     		mov	r1, r3
 241 01d4 0720     		movs	r0, #7
 242 01d6 FFF7FEFF 		bl	_test_assert
 243 01da 0346     		mov	r3, r0
 244 01dc 002B     		cmp	r3, #0
 245 01de 40F08D80 		bne	.L28
 246 01e2 1021     		movs	r1, #16
 247 01e4 4B48     		ldr	r0, .L33
 248 01e6 FFF7FEFF 		bl	chHeapAlloc
 249 01ea 7861     		str	r0, [r7, #20]
 250 01ec 1021     		movs	r1, #16
 251 01ee 4948     		ldr	r0, .L33
 252 01f0 FFF7FEFF 		bl	chHeapAlloc
 253 01f4 3861     		str	r0, [r7, #16]
 254 01f6 7869     		ldr	r0, [r7, #20]
 255 01f8 FFF7FEFF 		bl	chHeapFree
 256 01fc 07F10803 		add	r3, r7, #8
 257 0200 1946     		mov	r1, r3
 258 0202 4448     		ldr	r0, .L33
 259 0204 FFF7FEFF 		bl	chHeapStatus
 260 0208 0346     		mov	r3, r0
 261 020a 022B     		cmp	r3, #2
 262 020c 0CBF     		ite	eq
 263 020e 0123     		moveq	r3, #1
 264 0210 0023     		movne	r3, #0
 265 0212 DBB2     		uxtb	r3, r3
 266 0214 1946     		mov	r1, r3
 267 0216 0820     		movs	r0, #8
 268 0218 FFF7FEFF 		bl	_test_assert
 269 021c 0346     		mov	r3, r0
 270 021e 002B     		cmp	r3, #0
 271 0220 6ED1     		bne	.L29
 272 0222 2021     		movs	r1, #32
 273 0224 3B48     		ldr	r0, .L33
 274 0226 FFF7FEFF 		bl	chHeapAlloc
 275 022a 7861     		str	r0, [r7, #20]
 276 022c 7869     		ldr	r0, [r7, #20]
 277 022e FFF7FEFF 		bl	chHeapFree
 278 0232 3869     		ldr	r0, [r7, #16]
 279 0234 FFF7FEFF 		bl	chHeapFree
 280 0238 07F10803 		add	r3, r7, #8
 281 023c 1946     		mov	r1, r3
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 6


 282 023e 3548     		ldr	r0, .L33
 283 0240 FFF7FEFF 		bl	chHeapStatus
 284 0244 0346     		mov	r3, r0
 285 0246 012B     		cmp	r3, #1
 286 0248 0CBF     		ite	eq
 287 024a 0123     		moveq	r3, #1
 288 024c 0023     		movne	r3, #0
 289 024e DBB2     		uxtb	r3, r3
 290 0250 1946     		mov	r1, r3
 291 0252 0920     		movs	r0, #9
 292 0254 FFF7FEFF 		bl	_test_assert
 293 0258 0346     		mov	r3, r0
 294 025a 002B     		cmp	r3, #0
 295 025c 52D1     		bne	.L30
 296 025e 07F10803 		add	r3, r7, #8
 297 0262 1946     		mov	r1, r3
 298 0264 2B48     		ldr	r0, .L33
 299 0266 FFF7FEFF 		bl	chHeapStatus
 300 026a BB68     		ldr	r3, [r7, #8]
 301 026c 1946     		mov	r1, r3
 302 026e 2948     		ldr	r0, .L33
 303 0270 FFF7FEFF 		bl	chHeapAlloc
 304 0274 7861     		str	r0, [r7, #20]
 305 0276 07F10803 		add	r3, r7, #8
 306 027a 1946     		mov	r1, r3
 307 027c 2548     		ldr	r0, .L33
 308 027e FFF7FEFF 		bl	chHeapStatus
 309 0282 0346     		mov	r3, r0
 310 0284 002B     		cmp	r3, #0
 311 0286 0CBF     		ite	eq
 312 0288 0123     		moveq	r3, #1
 313 028a 0023     		movne	r3, #0
 314 028c DBB2     		uxtb	r3, r3
 315 028e 1946     		mov	r1, r3
 316 0290 0A20     		movs	r0, #10
 317 0292 FFF7FEFF 		bl	_test_assert
 318 0296 0346     		mov	r3, r0
 319 0298 002B     		cmp	r3, #0
 320 029a 35D1     		bne	.L31
 321 029c 7869     		ldr	r0, [r7, #20]
 322 029e FFF7FEFF 		bl	chHeapFree
 323 02a2 07F10803 		add	r3, r7, #8
 324 02a6 1946     		mov	r1, r3
 325 02a8 1A48     		ldr	r0, .L33
 326 02aa FFF7FEFF 		bl	chHeapStatus
 327 02ae 0346     		mov	r3, r0
 328 02b0 012B     		cmp	r3, #1
 329 02b2 0CBF     		ite	eq
 330 02b4 0123     		moveq	r3, #1
 331 02b6 0023     		movne	r3, #0
 332 02b8 DBB2     		uxtb	r3, r3
 333 02ba 1946     		mov	r1, r3
 334 02bc 0B20     		movs	r0, #11
 335 02be FFF7FEFF 		bl	_test_assert
 336 02c2 0346     		mov	r3, r0
 337 02c4 002B     		cmp	r3, #0
 338 02c6 21D1     		bne	.L32
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 7


 339 02c8 BA68     		ldr	r2, [r7, #8]
 340 02ca 7B68     		ldr	r3, [r7, #4]
 341 02cc 9A42     		cmp	r2, r3
 342 02ce 0CBF     		ite	eq
 343 02d0 0123     		moveq	r3, #1
 344 02d2 0023     		movne	r3, #0
 345 02d4 DBB2     		uxtb	r3, r3
 346 02d6 1946     		mov	r1, r3
 347 02d8 0C20     		movs	r0, #12
 348 02da FFF7FEFF 		bl	_test_assert
 349 02de 0346     		mov	r3, r0
 350 02e0 002B     		cmp	r3, #0
 351 02e2 14E0     		b	.L4
 352              	.L22:
 353 02e4 00BF     		nop
 354 02e6 12E0     		b	.L4
 355              	.L23:
 356 02e8 00BF     		nop
 357 02ea 10E0     		b	.L4
 358              	.L24:
 359 02ec 00BF     		nop
 360 02ee 0EE0     		b	.L4
 361              	.L25:
 362 02f0 00BF     		nop
 363 02f2 0CE0     		b	.L4
 364              	.L26:
 365 02f4 00BF     		nop
 366 02f6 0AE0     		b	.L4
 367              	.L27:
 368 02f8 00BF     		nop
 369 02fa 08E0     		b	.L4
 370              	.L28:
 371 02fc 00BF     		nop
 372 02fe 06E0     		b	.L4
 373              	.L29:
 374 0300 00BF     		nop
 375 0302 04E0     		b	.L4
 376              	.L30:
 377 0304 00BF     		nop
 378 0306 02E0     		b	.L4
 379              	.L31:
 380 0308 00BF     		nop
 381 030a 00E0     		b	.L4
 382              	.L32:
 383 030c 00BF     		nop
 384              	.L4:
 385 030e 1837     		adds	r7, r7, #24
 386 0310 BD46     		mov	sp, r7
 387              		@ sp needed
 388 0312 80BD     		pop	{r7, pc}
 389              	.L34:
 390              		.align	2
 391              	.L33:
 392 0314 00000000 		.word	test_heap
 393              		.size	heap1_execute, .-heap1_execute
 394              		.global	testheap1
 395              		.section	.rodata
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 8


 396              		.align	2
 397              	.LC0:
 398 0000 48656170 		.ascii	"Heap, allocation and fragmentation test\000"
 398      2C20616C 
 398      6C6F6361 
 398      74696F6E 
 398      20616E64 
 399              		.section	.rodata.testheap1,"a",%progbits
 400              		.align	2
 401              		.type	testheap1, %object
 402              		.size	testheap1, 16
 403              	testheap1:
 404 0000 00000000 		.word	.LC0
 405 0004 00000000 		.word	heap1_setup
 406 0008 00000000 		.word	0
 407 000c 00000000 		.word	heap1_execute
 408              		.global	patternheap
 409              		.section	.rodata.patternheap,"a",%progbits
 410              		.align	2
 411              		.type	patternheap, %object
 412              		.size	patternheap, 8
 413              	patternheap:
 414 0000 00000000 		.word	testheap1
 415 0004 00000000 		.word	0
 416              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 7-2017-q4-major) 7.2.1 20170904 (release) [ARM
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s 			page 9


DEFINED SYMBOLS
                            *ABS*:0000000000000000 testheap.c
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:15     .bss.test_heap:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:18     .bss.test_heap:0000000000000000 test_heap
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:21     .text.heap1_setup:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:27     .text.heap1_setup:0000000000000000 heap1_setup
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:41     .text.heap1_setup:0000000000000014 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:45     .text.heap1_execute:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:51     .text.heap1_execute:0000000000000000 heap1_execute
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:392    .text.heap1_execute:0000000000000314 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:403    .rodata.testheap1:0000000000000000 testheap1
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:396    .rodata:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:400    .rodata.testheap1:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:413    .rodata.patternheap:0000000000000000 patternheap
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccp6w9UW.s:410    .rodata.patternheap:0000000000000000 $d

UNDEFINED SYMBOLS
chHeapObjectInit
test
chCoreGetStatusX
chHeapStatus
chHeapAlloc
_test_assert
chHeapFree

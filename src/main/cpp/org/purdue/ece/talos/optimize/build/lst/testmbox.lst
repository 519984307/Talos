ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"testmbox.c"
  14              		.section	.text.port_lock,"ax",%progbits
  15              		.align	1
  16              		.syntax unified
  17              		.thumb
  18              		.thumb_func
  19              		.fpu fpv4-sp-d16
  20              		.type	port_lock, %function
  21              	port_lock:
  22              		@ args = 0, pretend = 0, frame = 8
  23              		@ frame_needed = 1, uses_anonymous_args = 0
  24              		@ link register save eliminated.
  25 0000 80B4     		push	{r7}
  26 0002 83B0     		sub	sp, sp, #12
  27 0004 00AF     		add	r7, sp, #0
  28 0006 2023     		movs	r3, #32
  29 0008 7B60     		str	r3, [r7, #4]
  30 000a 7B68     		ldr	r3, [r7, #4]
  31              		.syntax unified
  32              	@ 546 "../e-puck2_main-processor/ChibiOS//os/ext/CMSIS/include/core_cmFunc.h" 1
  33 000c 83F31188 		MSR basepri, r3
  34              	@ 0 "" 2
  35              		.thumb
  36              		.syntax unified
  37 0010 00BF     		nop
  38 0012 0C37     		adds	r7, r7, #12
  39 0014 BD46     		mov	sp, r7
  40              		@ sp needed
  41 0016 5DF8047B 		ldr	r7, [sp], #4
  42 001a 7047     		bx	lr
  43              		.size	port_lock, .-port_lock
  44              		.section	.text.port_unlock,"ax",%progbits
  45              		.align	1
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  49              		.fpu fpv4-sp-d16
  50              		.type	port_unlock, %function
  51              	port_unlock:
  52              		@ args = 0, pretend = 0, frame = 8
  53              		@ frame_needed = 1, uses_anonymous_args = 0
  54              		@ link register save eliminated.
  55 0000 80B4     		push	{r7}
  56 0002 83B0     		sub	sp, sp, #12
  57 0004 00AF     		add	r7, sp, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 2


  58 0006 0023     		movs	r3, #0
  59 0008 7B60     		str	r3, [r7, #4]
  60 000a 7B68     		ldr	r3, [r7, #4]
  61              		.syntax unified
  62              	@ 546 "../e-puck2_main-processor/ChibiOS//os/ext/CMSIS/include/core_cmFunc.h" 1
  63 000c 83F31188 		MSR basepri, r3
  64              	@ 0 "" 2
  65              		.thumb
  66              		.syntax unified
  67 0010 00BF     		nop
  68 0012 0C37     		adds	r7, r7, #12
  69 0014 BD46     		mov	sp, r7
  70              		@ sp needed
  71 0016 5DF8047B 		ldr	r7, [sp], #4
  72 001a 7047     		bx	lr
  73              		.size	port_unlock, .-port_unlock
  74              		.section	.text.chSysLock,"ax",%progbits
  75              		.align	1
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu fpv4-sp-d16
  80              		.type	chSysLock, %function
  81              	chSysLock:
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 1, uses_anonymous_args = 0
  84 0000 80B5     		push	{r7, lr}
  85 0002 00AF     		add	r7, sp, #0
  86 0004 FFF7FEFF 		bl	port_lock
  87 0008 FFF7FEFF 		bl	_stats_start_measure_crit_thd
  88 000c FFF7FEFF 		bl	_dbg_check_lock
  89 0010 00BF     		nop
  90 0012 80BD     		pop	{r7, pc}
  91              		.size	chSysLock, .-chSysLock
  92              		.section	.text.chSysUnlock,"ax",%progbits
  93              		.align	1
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  97              		.fpu fpv4-sp-d16
  98              		.type	chSysUnlock, %function
  99              	chSysUnlock:
 100              		@ args = 0, pretend = 0, frame = 0
 101              		@ frame_needed = 1, uses_anonymous_args = 0
 102 0000 80B5     		push	{r7, lr}
 103 0002 00AF     		add	r7, sp, #0
 104 0004 FFF7FEFF 		bl	_dbg_check_unlock
 105 0008 FFF7FEFF 		bl	_stats_stop_measure_crit_thd
 106 000c 094B     		ldr	r3, .L6
 107 000e 1B68     		ldr	r3, [r3]
 108 0010 084A     		ldr	r2, .L6
 109 0012 9342     		cmp	r3, r2
 110 0014 0AD0     		beq	.L5
 111 0016 074B     		ldr	r3, .L6
 112 0018 9B69     		ldr	r3, [r3, #24]
 113 001a 9A68     		ldr	r2, [r3, #8]
 114 001c 054B     		ldr	r3, .L6
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 3


 115 001e 1B68     		ldr	r3, [r3]
 116 0020 9B68     		ldr	r3, [r3, #8]
 117 0022 9A42     		cmp	r2, r3
 118 0024 02D2     		bcs	.L5
 119 0026 0448     		ldr	r0, .L6+4
 120 0028 FFF7FEFF 		bl	chSysHalt
 121              	.L5:
 122 002c FFF7FEFF 		bl	port_unlock
 123 0030 00BF     		nop
 124 0032 80BD     		pop	{r7, pc}
 125              	.L7:
 126              		.align	2
 127              	.L6:
 128 0034 00000000 		.word	ch
 129 0038 00000000 		.word	__func__.7153
 130              		.size	chSysUnlock, .-chSysUnlock
 131              		.section	.text.chSemGetCounterI,"ax",%progbits
 132              		.align	1
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 136              		.fpu fpv4-sp-d16
 137              		.type	chSemGetCounterI, %function
 138              	chSemGetCounterI:
 139              		@ args = 0, pretend = 0, frame = 8
 140              		@ frame_needed = 1, uses_anonymous_args = 0
 141 0000 80B5     		push	{r7, lr}
 142 0002 82B0     		sub	sp, sp, #8
 143 0004 00AF     		add	r7, sp, #0
 144 0006 7860     		str	r0, [r7, #4]
 145 0008 FFF7FEFF 		bl	chDbgCheckClassI
 146 000c 7B68     		ldr	r3, [r7, #4]
 147 000e 9B68     		ldr	r3, [r3, #8]
 148 0010 1846     		mov	r0, r3
 149 0012 0837     		adds	r7, r7, #8
 150 0014 BD46     		mov	sp, r7
 151              		@ sp needed
 152 0016 80BD     		pop	{r7, pc}
 153              		.size	chSemGetCounterI, .-chSemGetCounterI
 154              		.section	.text.chMBGetFreeCountI,"ax",%progbits
 155              		.align	1
 156              		.syntax unified
 157              		.thumb
 158              		.thumb_func
 159              		.fpu fpv4-sp-d16
 160              		.type	chMBGetFreeCountI, %function
 161              	chMBGetFreeCountI:
 162              		@ args = 0, pretend = 0, frame = 8
 163              		@ frame_needed = 1, uses_anonymous_args = 0
 164 0000 80B5     		push	{r7, lr}
 165 0002 82B0     		sub	sp, sp, #8
 166 0004 00AF     		add	r7, sp, #0
 167 0006 7860     		str	r0, [r7, #4]
 168 0008 FFF7FEFF 		bl	chDbgCheckClassI
 169 000c 7B68     		ldr	r3, [r7, #4]
 170 000e 1C33     		adds	r3, r3, #28
 171 0010 1846     		mov	r0, r3
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 4


 172 0012 FFF7FEFF 		bl	chSemGetCounterI
 173 0016 0346     		mov	r3, r0
 174 0018 1846     		mov	r0, r3
 175 001a 0837     		adds	r7, r7, #8
 176 001c BD46     		mov	sp, r7
 177              		@ sp needed
 178 001e 80BD     		pop	{r7, pc}
 179              		.size	chMBGetFreeCountI, .-chMBGetFreeCountI
 180              		.section	.text.chMBGetUsedCountI,"ax",%progbits
 181              		.align	1
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 185              		.fpu fpv4-sp-d16
 186              		.type	chMBGetUsedCountI, %function
 187              	chMBGetUsedCountI:
 188              		@ args = 0, pretend = 0, frame = 8
 189              		@ frame_needed = 1, uses_anonymous_args = 0
 190 0000 80B5     		push	{r7, lr}
 191 0002 82B0     		sub	sp, sp, #8
 192 0004 00AF     		add	r7, sp, #0
 193 0006 7860     		str	r0, [r7, #4]
 194 0008 FFF7FEFF 		bl	chDbgCheckClassI
 195 000c 7B68     		ldr	r3, [r7, #4]
 196 000e 1033     		adds	r3, r3, #16
 197 0010 1846     		mov	r0, r3
 198 0012 FFF7FEFF 		bl	chSemGetCounterI
 199 0016 0346     		mov	r3, r0
 200 0018 1846     		mov	r0, r3
 201 001a 0837     		adds	r7, r7, #8
 202 001c BD46     		mov	sp, r7
 203              		@ sp needed
 204 001e 80BD     		pop	{r7, pc}
 205              		.size	chMBGetUsedCountI, .-chMBGetUsedCountI
 206              		.section	.data.mb1,"aw",%progbits
 207              		.align	2
 208              		.type	mb1, %object
 209              		.size	mb1, 40
 210              	mb1:
 211 0000 00000000 		.word	test
 212 0004 14000000 		.word	test+20
 213 0008 00000000 		.word	test
 214 000c 00000000 		.word	test
 215 0010 10000000 		.word	mb1+16
 216 0014 10000000 		.word	mb1+16
 217 0018 00000000 		.word	0
 218 001c 1C000000 		.word	mb1+28
 219 0020 1C000000 		.word	mb1+28
 220 0024 05000000 		.word	5
 221              		.section	.text.mbox1_setup,"ax",%progbits
 222              		.align	1
 223              		.syntax unified
 224              		.thumb
 225              		.thumb_func
 226              		.fpu fpv4-sp-d16
 227              		.type	mbox1_setup, %function
 228              	mbox1_setup:
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 5


 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 1, uses_anonymous_args = 0
 231 0000 80B5     		push	{r7, lr}
 232 0002 00AF     		add	r7, sp, #0
 233 0004 0522     		movs	r2, #5
 234 0006 0349     		ldr	r1, .L15
 235 0008 0348     		ldr	r0, .L15+4
 236 000a FFF7FEFF 		bl	chMBObjectInit
 237 000e 00BF     		nop
 238 0010 80BD     		pop	{r7, pc}
 239              	.L16:
 240 0012 00BF     		.align	2
 241              	.L15:
 242 0014 00000000 		.word	test
 243 0018 00000000 		.word	mb1
 244              		.size	mbox1_setup, .-mbox1_setup
 245              		.section	.rodata
 246              		.align	2
 247              	.LC0:
 248 0000 41424344 		.ascii	"ABCDE\000"
 248      4500
 249              		.section	.text.mbox1_execute,"ax",%progbits
 250              		.align	1
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv4-sp-d16
 255              		.type	mbox1_execute, %function
 256              	mbox1_execute:
 257              		@ args = 0, pretend = 0, frame = 16
 258              		@ frame_needed = 1, uses_anonymous_args = 0
 259 0000 80B5     		push	{r7, lr}
 260 0002 84B0     		sub	sp, sp, #16
 261 0004 00AF     		add	r7, sp, #0
 262 0006 FFF7FEFF 		bl	chSysLock
 263 000a 7648     		ldr	r0, .L107
 264 000c FFF7FEFF 		bl	chMBGetFreeCountI
 265 0010 0346     		mov	r3, r0
 266 0012 052B     		cmp	r3, #5
 267 0014 0CBF     		ite	eq
 268 0016 0123     		moveq	r3, #1
 269 0018 0023     		movne	r3, #0
 270 001a DBB2     		uxtb	r3, r3
 271 001c 1946     		mov	r1, r3
 272 001e 0120     		movs	r0, #1
 273 0020 FFF7FEFF 		bl	_test_assert
 274 0024 0346     		mov	r3, r0
 275 0026 002B     		cmp	r3, #0
 276 0028 03D0     		beq	.L18
 277 002a FFF7FEFF 		bl	chSysUnlock
 278 002e 00F031BC 		b	.L17
 279              	.L18:
 280 0032 FFF7FEFF 		bl	chSysUnlock
 281 0036 0023     		movs	r3, #0
 282 0038 FB60     		str	r3, [r7, #12]
 283 003a 19E0     		b	.L20
 284              	.L22:
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 6


 285 003c FB68     		ldr	r3, [r7, #12]
 286 003e 4233     		adds	r3, r3, #66
 287 0040 4FF0FF32 		mov	r2, #-1
 288 0044 1946     		mov	r1, r3
 289 0046 6748     		ldr	r0, .L107
 290 0048 FFF7FEFF 		bl	chMBPost
 291 004c B860     		str	r0, [r7, #8]
 292 004e BB68     		ldr	r3, [r7, #8]
 293 0050 002B     		cmp	r3, #0
 294 0052 0CBF     		ite	eq
 295 0054 0123     		moveq	r3, #1
 296 0056 0023     		movne	r3, #0
 297 0058 DBB2     		uxtb	r3, r3
 298 005a 1946     		mov	r1, r3
 299 005c 0220     		movs	r0, #2
 300 005e FFF7FEFF 		bl	_test_assert
 301 0062 0346     		mov	r3, r0
 302 0064 002B     		cmp	r3, #0
 303 0066 40F0D683 		bne	.L75
 304 006a FB68     		ldr	r3, [r7, #12]
 305 006c 0133     		adds	r3, r3, #1
 306 006e FB60     		str	r3, [r7, #12]
 307              	.L20:
 308 0070 FB68     		ldr	r3, [r7, #12]
 309 0072 032B     		cmp	r3, #3
 310 0074 E2D9     		bls	.L22
 311 0076 4FF0FF32 		mov	r2, #-1
 312 007a 4121     		movs	r1, #65
 313 007c 5948     		ldr	r0, .L107
 314 007e FFF7FEFF 		bl	chMBPostAhead
 315 0082 B860     		str	r0, [r7, #8]
 316 0084 BB68     		ldr	r3, [r7, #8]
 317 0086 002B     		cmp	r3, #0
 318 0088 0CBF     		ite	eq
 319 008a 0123     		moveq	r3, #1
 320 008c 0023     		movne	r3, #0
 321 008e DBB2     		uxtb	r3, r3
 322 0090 1946     		mov	r1, r3
 323 0092 0320     		movs	r0, #3
 324 0094 FFF7FEFF 		bl	_test_assert
 325 0098 0346     		mov	r3, r0
 326 009a 002B     		cmp	r3, #0
 327 009c 40F0BD83 		bne	.L76
 328 00a0 0122     		movs	r2, #1
 329 00a2 5821     		movs	r1, #88
 330 00a4 4F48     		ldr	r0, .L107
 331 00a6 FFF7FEFF 		bl	chMBPost
 332 00aa B860     		str	r0, [r7, #8]
 333 00ac BB68     		ldr	r3, [r7, #8]
 334 00ae B3F1FF3F 		cmp	r3, #-1
 335 00b2 0CBF     		ite	eq
 336 00b4 0123     		moveq	r3, #1
 337 00b6 0023     		movne	r3, #0
 338 00b8 DBB2     		uxtb	r3, r3
 339 00ba 1946     		mov	r1, r3
 340 00bc 0420     		movs	r0, #4
 341 00be FFF7FEFF 		bl	_test_assert
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 7


 342 00c2 0346     		mov	r3, r0
 343 00c4 002B     		cmp	r3, #0
 344 00c6 40F0AA83 		bne	.L77
 345 00ca FFF7FEFF 		bl	chSysLock
 346 00ce 5821     		movs	r1, #88
 347 00d0 4448     		ldr	r0, .L107
 348 00d2 FFF7FEFF 		bl	chMBPostI
 349 00d6 B860     		str	r0, [r7, #8]
 350 00d8 FFF7FEFF 		bl	chSysUnlock
 351 00dc BB68     		ldr	r3, [r7, #8]
 352 00de B3F1FF3F 		cmp	r3, #-1
 353 00e2 0CBF     		ite	eq
 354 00e4 0123     		moveq	r3, #1
 355 00e6 0023     		movne	r3, #0
 356 00e8 DBB2     		uxtb	r3, r3
 357 00ea 1946     		mov	r1, r3
 358 00ec 0520     		movs	r0, #5
 359 00ee FFF7FEFF 		bl	_test_assert
 360 00f2 0346     		mov	r3, r0
 361 00f4 002B     		cmp	r3, #0
 362 00f6 40F09483 		bne	.L78
 363 00fa 0122     		movs	r2, #1
 364 00fc 5821     		movs	r1, #88
 365 00fe 3948     		ldr	r0, .L107
 366 0100 FFF7FEFF 		bl	chMBPostAhead
 367 0104 B860     		str	r0, [r7, #8]
 368 0106 BB68     		ldr	r3, [r7, #8]
 369 0108 B3F1FF3F 		cmp	r3, #-1
 370 010c 0CBF     		ite	eq
 371 010e 0123     		moveq	r3, #1
 372 0110 0023     		movne	r3, #0
 373 0112 DBB2     		uxtb	r3, r3
 374 0114 1946     		mov	r1, r3
 375 0116 0620     		movs	r0, #6
 376 0118 FFF7FEFF 		bl	_test_assert
 377 011c 0346     		mov	r3, r0
 378 011e 002B     		cmp	r3, #0
 379 0120 40F08183 		bne	.L79
 380 0124 FFF7FEFF 		bl	chSysLock
 381 0128 5821     		movs	r1, #88
 382 012a 2E48     		ldr	r0, .L107
 383 012c FFF7FEFF 		bl	chMBPostAheadI
 384 0130 B860     		str	r0, [r7, #8]
 385 0132 FFF7FEFF 		bl	chSysUnlock
 386 0136 BB68     		ldr	r3, [r7, #8]
 387 0138 B3F1FF3F 		cmp	r3, #-1
 388 013c 0CBF     		ite	eq
 389 013e 0123     		moveq	r3, #1
 390 0140 0023     		movne	r3, #0
 391 0142 DBB2     		uxtb	r3, r3
 392 0144 1946     		mov	r1, r3
 393 0146 0720     		movs	r0, #7
 394 0148 FFF7FEFF 		bl	_test_assert
 395 014c 0346     		mov	r3, r0
 396 014e 002B     		cmp	r3, #0
 397 0150 40F06B83 		bne	.L80
 398 0154 FFF7FEFF 		bl	chSysLock
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 8


 399 0158 2248     		ldr	r0, .L107
 400 015a FFF7FEFF 		bl	chMBGetFreeCountI
 401 015e 0346     		mov	r3, r0
 402 0160 002B     		cmp	r3, #0
 403 0162 0CBF     		ite	eq
 404 0164 0123     		moveq	r3, #1
 405 0166 0023     		movne	r3, #0
 406 0168 DBB2     		uxtb	r3, r3
 407 016a 1946     		mov	r1, r3
 408 016c 0820     		movs	r0, #8
 409 016e FFF7FEFF 		bl	_test_assert
 410 0172 0346     		mov	r3, r0
 411 0174 002B     		cmp	r3, #0
 412 0176 02D0     		beq	.L28
 413 0178 FFF7FEFF 		bl	chSysUnlock
 414 017c 8AE3     		b	.L17
 415              	.L28:
 416 017e FFF7FEFF 		bl	chSysUnlock
 417 0182 FFF7FEFF 		bl	chSysLock
 418 0186 1748     		ldr	r0, .L107
 419 0188 FFF7FEFF 		bl	chMBGetUsedCountI
 420 018c 0346     		mov	r3, r0
 421 018e 052B     		cmp	r3, #5
 422 0190 0CBF     		ite	eq
 423 0192 0123     		moveq	r3, #1
 424 0194 0023     		movne	r3, #0
 425 0196 DBB2     		uxtb	r3, r3
 426 0198 1946     		mov	r1, r3
 427 019a 0920     		movs	r0, #9
 428 019c FFF7FEFF 		bl	_test_assert
 429 01a0 0346     		mov	r3, r0
 430 01a2 002B     		cmp	r3, #0
 431 01a4 02D0     		beq	.L29
 432 01a6 FFF7FEFF 		bl	chSysUnlock
 433 01aa 73E3     		b	.L17
 434              	.L29:
 435 01ac FFF7FEFF 		bl	chSysUnlock
 436 01b0 FFF7FEFF 		bl	chSysLock
 437 01b4 0B4B     		ldr	r3, .L107
 438 01b6 DA68     		ldr	r2, [r3, #12]
 439 01b8 0A4B     		ldr	r3, .L107
 440 01ba 9B68     		ldr	r3, [r3, #8]
 441 01bc 9A42     		cmp	r2, r3
 442 01be 0CBF     		ite	eq
 443 01c0 0123     		moveq	r3, #1
 444 01c2 0023     		movne	r3, #0
 445 01c4 DBB2     		uxtb	r3, r3
 446 01c6 1946     		mov	r1, r3
 447 01c8 0A20     		movs	r0, #10
 448 01ca FFF7FEFF 		bl	_test_assert
 449 01ce 0346     		mov	r3, r0
 450 01d0 002B     		cmp	r3, #0
 451 01d2 02D0     		beq	.L30
 452 01d4 FFF7FEFF 		bl	chSysUnlock
 453 01d8 5CE3     		b	.L17
 454              	.L30:
 455 01da FFF7FEFF 		bl	chSysUnlock
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 9


 456 01de 0023     		movs	r3, #0
 457 01e0 FB60     		str	r3, [r7, #12]
 458 01e2 1FE0     		b	.L31
 459              	.L108:
 460              		.align	2
 461              	.L107:
 462 01e4 00000000 		.word	mb1
 463              	.L33:
 464 01e8 3B1D     		adds	r3, r7, #4
 465 01ea 4FF0FF32 		mov	r2, #-1
 466 01ee 1946     		mov	r1, r3
 467 01f0 AF48     		ldr	r0, .L109
 468 01f2 FFF7FEFF 		bl	chMBFetch
 469 01f6 B860     		str	r0, [r7, #8]
 470 01f8 BB68     		ldr	r3, [r7, #8]
 471 01fa 002B     		cmp	r3, #0
 472 01fc 0CBF     		ite	eq
 473 01fe 0123     		moveq	r3, #1
 474 0200 0023     		movne	r3, #0
 475 0202 DBB2     		uxtb	r3, r3
 476 0204 1946     		mov	r1, r3
 477 0206 0B20     		movs	r0, #11
 478 0208 FFF7FEFF 		bl	_test_assert
 479 020c 0346     		mov	r3, r0
 480 020e 002B     		cmp	r3, #0
 481 0210 40F00D83 		bne	.L81
 482 0214 7B68     		ldr	r3, [r7, #4]
 483 0216 DBB2     		uxtb	r3, r3
 484 0218 1846     		mov	r0, r3
 485 021a FFF7FEFF 		bl	test_emit_token
 486 021e FB68     		ldr	r3, [r7, #12]
 487 0220 0133     		adds	r3, r3, #1
 488 0222 FB60     		str	r3, [r7, #12]
 489              	.L31:
 490 0224 FB68     		ldr	r3, [r7, #12]
 491 0226 042B     		cmp	r3, #4
 492 0228 DED9     		bls	.L33
 493 022a A249     		ldr	r1, .L109+4
 494 022c 0C20     		movs	r0, #12
 495 022e FFF7FEFF 		bl	_test_assert_sequence
 496 0232 0346     		mov	r3, r0
 497 0234 002B     		cmp	r3, #0
 498 0236 40F0FC82 		bne	.L82
 499 023a FB68     		ldr	r3, [r7, #12]
 500 023c 4233     		adds	r3, r3, #66
 501 023e 4FF0FF32 		mov	r2, #-1
 502 0242 1946     		mov	r1, r3
 503 0244 9A48     		ldr	r0, .L109
 504 0246 FFF7FEFF 		bl	chMBPost
 505 024a B860     		str	r0, [r7, #8]
 506 024c BB68     		ldr	r3, [r7, #8]
 507 024e 002B     		cmp	r3, #0
 508 0250 0CBF     		ite	eq
 509 0252 0123     		moveq	r3, #1
 510 0254 0023     		movne	r3, #0
 511 0256 DBB2     		uxtb	r3, r3
 512 0258 1946     		mov	r1, r3
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 10


 513 025a 0D20     		movs	r0, #13
 514 025c FFF7FEFF 		bl	_test_assert
 515 0260 0346     		mov	r3, r0
 516 0262 002B     		cmp	r3, #0
 517 0264 40F0E782 		bne	.L83
 518 0268 3B1D     		adds	r3, r7, #4
 519 026a 4FF0FF32 		mov	r2, #-1
 520 026e 1946     		mov	r1, r3
 521 0270 8F48     		ldr	r0, .L109
 522 0272 FFF7FEFF 		bl	chMBFetch
 523 0276 B860     		str	r0, [r7, #8]
 524 0278 BB68     		ldr	r3, [r7, #8]
 525 027a 002B     		cmp	r3, #0
 526 027c 0CBF     		ite	eq
 527 027e 0123     		moveq	r3, #1
 528 0280 0023     		movne	r3, #0
 529 0282 DBB2     		uxtb	r3, r3
 530 0284 1946     		mov	r1, r3
 531 0286 0E20     		movs	r0, #14
 532 0288 FFF7FEFF 		bl	_test_assert
 533 028c 0346     		mov	r3, r0
 534 028e 002B     		cmp	r3, #0
 535 0290 40F0D382 		bne	.L84
 536 0294 864B     		ldr	r3, .L109
 537 0296 1A68     		ldr	r2, [r3]
 538 0298 854B     		ldr	r3, .L109
 539 029a 9B68     		ldr	r3, [r3, #8]
 540 029c 9A42     		cmp	r2, r3
 541 029e 0CBF     		ite	eq
 542 02a0 0123     		moveq	r3, #1
 543 02a2 0023     		movne	r3, #0
 544 02a4 DBB2     		uxtb	r3, r3
 545 02a6 1946     		mov	r1, r3
 546 02a8 0F20     		movs	r0, #15
 547 02aa FFF7FEFF 		bl	_test_assert
 548 02ae 0346     		mov	r3, r0
 549 02b0 002B     		cmp	r3, #0
 550 02b2 40F0C482 		bne	.L85
 551 02b6 7E4B     		ldr	r3, .L109
 552 02b8 1A68     		ldr	r2, [r3]
 553 02ba 7D4B     		ldr	r3, .L109
 554 02bc DB68     		ldr	r3, [r3, #12]
 555 02be 9A42     		cmp	r2, r3
 556 02c0 0CBF     		ite	eq
 557 02c2 0123     		moveq	r3, #1
 558 02c4 0023     		movne	r3, #0
 559 02c6 DBB2     		uxtb	r3, r3
 560 02c8 1946     		mov	r1, r3
 561 02ca 1020     		movs	r0, #16
 562 02cc FFF7FEFF 		bl	_test_assert
 563 02d0 0346     		mov	r3, r0
 564 02d2 002B     		cmp	r3, #0
 565 02d4 40F0B582 		bne	.L86
 566 02d8 3B1D     		adds	r3, r7, #4
 567 02da 0122     		movs	r2, #1
 568 02dc 1946     		mov	r1, r3
 569 02de 7448     		ldr	r0, .L109
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 11


 570 02e0 FFF7FEFF 		bl	chMBFetch
 571 02e4 B860     		str	r0, [r7, #8]
 572 02e6 BB68     		ldr	r3, [r7, #8]
 573 02e8 B3F1FF3F 		cmp	r3, #-1
 574 02ec 0CBF     		ite	eq
 575 02ee 0123     		moveq	r3, #1
 576 02f0 0023     		movne	r3, #0
 577 02f2 DBB2     		uxtb	r3, r3
 578 02f4 1946     		mov	r1, r3
 579 02f6 1120     		movs	r0, #17
 580 02f8 FFF7FEFF 		bl	_test_assert
 581 02fc 0346     		mov	r3, r0
 582 02fe 002B     		cmp	r3, #0
 583 0300 40F0A182 		bne	.L87
 584 0304 FFF7FEFF 		bl	chSysLock
 585 0308 3B1D     		adds	r3, r7, #4
 586 030a 1946     		mov	r1, r3
 587 030c 6848     		ldr	r0, .L109
 588 030e FFF7FEFF 		bl	chMBFetchI
 589 0312 B860     		str	r0, [r7, #8]
 590 0314 FFF7FEFF 		bl	chSysUnlock
 591 0318 BB68     		ldr	r3, [r7, #8]
 592 031a B3F1FF3F 		cmp	r3, #-1
 593 031e 0CBF     		ite	eq
 594 0320 0123     		moveq	r3, #1
 595 0322 0023     		movne	r3, #0
 596 0324 DBB2     		uxtb	r3, r3
 597 0326 1946     		mov	r1, r3
 598 0328 1220     		movs	r0, #18
 599 032a FFF7FEFF 		bl	_test_assert
 600 032e 0346     		mov	r3, r0
 601 0330 002B     		cmp	r3, #0
 602 0332 40F08A82 		bne	.L88
 603 0336 FFF7FEFF 		bl	chSysLock
 604 033a 5D48     		ldr	r0, .L109
 605 033c FFF7FEFF 		bl	chMBGetFreeCountI
 606 0340 0346     		mov	r3, r0
 607 0342 052B     		cmp	r3, #5
 608 0344 0CBF     		ite	eq
 609 0346 0123     		moveq	r3, #1
 610 0348 0023     		movne	r3, #0
 611 034a DBB2     		uxtb	r3, r3
 612 034c 1946     		mov	r1, r3
 613 034e 1320     		movs	r0, #19
 614 0350 FFF7FEFF 		bl	_test_assert
 615 0354 0346     		mov	r3, r0
 616 0356 002B     		cmp	r3, #0
 617 0358 02D0     		beq	.L41
 618 035a FFF7FEFF 		bl	chSysUnlock
 619 035e 99E2     		b	.L17
 620              	.L41:
 621 0360 FFF7FEFF 		bl	chSysUnlock
 622 0364 FFF7FEFF 		bl	chSysLock
 623 0368 5148     		ldr	r0, .L109
 624 036a FFF7FEFF 		bl	chMBGetUsedCountI
 625 036e 0346     		mov	r3, r0
 626 0370 002B     		cmp	r3, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 12


 627 0372 0CBF     		ite	eq
 628 0374 0123     		moveq	r3, #1
 629 0376 0023     		movne	r3, #0
 630 0378 DBB2     		uxtb	r3, r3
 631 037a 1946     		mov	r1, r3
 632 037c 1420     		movs	r0, #20
 633 037e FFF7FEFF 		bl	_test_assert
 634 0382 0346     		mov	r3, r0
 635 0384 002B     		cmp	r3, #0
 636 0386 02D0     		beq	.L42
 637 0388 FFF7FEFF 		bl	chSysUnlock
 638 038c 82E2     		b	.L17
 639              	.L42:
 640 038e FFF7FEFF 		bl	chSysUnlock
 641 0392 FFF7FEFF 		bl	chSysLock
 642 0396 464B     		ldr	r3, .L109
 643 0398 DA68     		ldr	r2, [r3, #12]
 644 039a 454B     		ldr	r3, .L109
 645 039c 9B68     		ldr	r3, [r3, #8]
 646 039e 9A42     		cmp	r2, r3
 647 03a0 0CBF     		ite	eq
 648 03a2 0123     		moveq	r3, #1
 649 03a4 0023     		movne	r3, #0
 650 03a6 DBB2     		uxtb	r3, r3
 651 03a8 1946     		mov	r1, r3
 652 03aa 1520     		movs	r0, #21
 653 03ac FFF7FEFF 		bl	_test_assert
 654 03b0 0346     		mov	r3, r0
 655 03b2 002B     		cmp	r3, #0
 656 03b4 02D0     		beq	.L43
 657 03b6 FFF7FEFF 		bl	chSysUnlock
 658 03ba 6BE2     		b	.L17
 659              	.L43:
 660 03bc FFF7FEFF 		bl	chSysUnlock
 661 03c0 FFF7FEFF 		bl	chSysLock
 662 03c4 4121     		movs	r1, #65
 663 03c6 3A48     		ldr	r0, .L109
 664 03c8 FFF7FEFF 		bl	chMBPostI
 665 03cc B860     		str	r0, [r7, #8]
 666 03ce BB68     		ldr	r3, [r7, #8]
 667 03d0 002B     		cmp	r3, #0
 668 03d2 0CBF     		ite	eq
 669 03d4 0123     		moveq	r3, #1
 670 03d6 0023     		movne	r3, #0
 671 03d8 DBB2     		uxtb	r3, r3
 672 03da 1946     		mov	r1, r3
 673 03dc 1620     		movs	r0, #22
 674 03de FFF7FEFF 		bl	_test_assert
 675 03e2 0346     		mov	r3, r0
 676 03e4 002B     		cmp	r3, #0
 677 03e6 40F03282 		bne	.L89
 678 03ea 4221     		movs	r1, #66
 679 03ec 3048     		ldr	r0, .L109
 680 03ee FFF7FEFF 		bl	chMBPostI
 681 03f2 B860     		str	r0, [r7, #8]
 682 03f4 BB68     		ldr	r3, [r7, #8]
 683 03f6 002B     		cmp	r3, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 13


 684 03f8 0CBF     		ite	eq
 685 03fa 0123     		moveq	r3, #1
 686 03fc 0023     		movne	r3, #0
 687 03fe DBB2     		uxtb	r3, r3
 688 0400 1946     		mov	r1, r3
 689 0402 1720     		movs	r0, #23
 690 0404 FFF7FEFF 		bl	_test_assert
 691 0408 0346     		mov	r3, r0
 692 040a 002B     		cmp	r3, #0
 693 040c 40F02182 		bne	.L90
 694 0410 4321     		movs	r1, #67
 695 0412 2748     		ldr	r0, .L109
 696 0414 FFF7FEFF 		bl	chMBPostI
 697 0418 B860     		str	r0, [r7, #8]
 698 041a BB68     		ldr	r3, [r7, #8]
 699 041c 002B     		cmp	r3, #0
 700 041e 0CBF     		ite	eq
 701 0420 0123     		moveq	r3, #1
 702 0422 0023     		movne	r3, #0
 703 0424 DBB2     		uxtb	r3, r3
 704 0426 1946     		mov	r1, r3
 705 0428 1820     		movs	r0, #24
 706 042a FFF7FEFF 		bl	_test_assert
 707 042e 0346     		mov	r3, r0
 708 0430 002B     		cmp	r3, #0
 709 0432 40F01082 		bne	.L91
 710 0436 4421     		movs	r1, #68
 711 0438 1D48     		ldr	r0, .L109
 712 043a FFF7FEFF 		bl	chMBPostI
 713 043e B860     		str	r0, [r7, #8]
 714 0440 BB68     		ldr	r3, [r7, #8]
 715 0442 002B     		cmp	r3, #0
 716 0444 0CBF     		ite	eq
 717 0446 0123     		moveq	r3, #1
 718 0448 0023     		movne	r3, #0
 719 044a DBB2     		uxtb	r3, r3
 720 044c 1946     		mov	r1, r3
 721 044e 1920     		movs	r0, #25
 722 0450 FFF7FEFF 		bl	_test_assert
 723 0454 0346     		mov	r3, r0
 724 0456 002B     		cmp	r3, #0
 725 0458 40F0FF81 		bne	.L92
 726 045c 4521     		movs	r1, #69
 727 045e 1448     		ldr	r0, .L109
 728 0460 FFF7FEFF 		bl	chMBPostI
 729 0464 B860     		str	r0, [r7, #8]
 730 0466 FFF7FEFF 		bl	chSysUnlock
 731 046a BB68     		ldr	r3, [r7, #8]
 732 046c 002B     		cmp	r3, #0
 733 046e 0CBF     		ite	eq
 734 0470 0123     		moveq	r3, #1
 735 0472 0023     		movne	r3, #0
 736 0474 DBB2     		uxtb	r3, r3
 737 0476 1946     		mov	r1, r3
 738 0478 1A20     		movs	r0, #26
 739 047a FFF7FEFF 		bl	_test_assert
 740 047e 0346     		mov	r3, r0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 14


 741 0480 002B     		cmp	r3, #0
 742 0482 40F0EC81 		bne	.L93
 743 0486 0A4B     		ldr	r3, .L109
 744 0488 DA68     		ldr	r2, [r3, #12]
 745 048a 094B     		ldr	r3, .L109
 746 048c 9B68     		ldr	r3, [r3, #8]
 747 048e 9A42     		cmp	r2, r3
 748 0490 0CBF     		ite	eq
 749 0492 0123     		moveq	r3, #1
 750 0494 0023     		movne	r3, #0
 751 0496 DBB2     		uxtb	r3, r3
 752 0498 1946     		mov	r1, r3
 753 049a 1B20     		movs	r0, #27
 754 049c FFF7FEFF 		bl	_test_assert
 755 04a0 0346     		mov	r3, r0
 756 04a2 002B     		cmp	r3, #0
 757 04a4 40F0DD81 		bne	.L94
 758 04a8 0023     		movs	r3, #0
 759 04aa FB60     		str	r3, [r7, #12]
 760 04ac 24E0     		b	.L50
 761              	.L110:
 762 04ae 00BF     		.align	2
 763              	.L109:
 764 04b0 00000000 		.word	mb1
 765 04b4 00000000 		.word	.LC0
 766              	.L52:
 767 04b8 FFF7FEFF 		bl	chSysLock
 768 04bc 3B1D     		adds	r3, r7, #4
 769 04be 1946     		mov	r1, r3
 770 04c0 BA48     		ldr	r0, .L111
 771 04c2 FFF7FEFF 		bl	chMBFetchI
 772 04c6 B860     		str	r0, [r7, #8]
 773 04c8 FFF7FEFF 		bl	chSysUnlock
 774 04cc BB68     		ldr	r3, [r7, #8]
 775 04ce 002B     		cmp	r3, #0
 776 04d0 0CBF     		ite	eq
 777 04d2 0123     		moveq	r3, #1
 778 04d4 0023     		movne	r3, #0
 779 04d6 DBB2     		uxtb	r3, r3
 780 04d8 1946     		mov	r1, r3
 781 04da 1C20     		movs	r0, #28
 782 04dc FFF7FEFF 		bl	_test_assert
 783 04e0 0346     		mov	r3, r0
 784 04e2 002B     		cmp	r3, #0
 785 04e4 40F0BF81 		bne	.L95
 786 04e8 7B68     		ldr	r3, [r7, #4]
 787 04ea DBB2     		uxtb	r3, r3
 788 04ec 1846     		mov	r0, r3
 789 04ee FFF7FEFF 		bl	test_emit_token
 790 04f2 FB68     		ldr	r3, [r7, #12]
 791 04f4 0133     		adds	r3, r3, #1
 792 04f6 FB60     		str	r3, [r7, #12]
 793              	.L50:
 794 04f8 FB68     		ldr	r3, [r7, #12]
 795 04fa 042B     		cmp	r3, #4
 796 04fc DCD9     		bls	.L52
 797 04fe AC49     		ldr	r1, .L111+4
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 15


 798 0500 1D20     		movs	r0, #29
 799 0502 FFF7FEFF 		bl	_test_assert_sequence
 800 0506 0346     		mov	r3, r0
 801 0508 002B     		cmp	r3, #0
 802 050a 40F0AE81 		bne	.L96
 803 050e FFF7FEFF 		bl	chSysLock
 804 0512 A648     		ldr	r0, .L111
 805 0514 FFF7FEFF 		bl	chMBGetFreeCountI
 806 0518 0346     		mov	r3, r0
 807 051a 052B     		cmp	r3, #5
 808 051c 0CBF     		ite	eq
 809 051e 0123     		moveq	r3, #1
 810 0520 0023     		movne	r3, #0
 811 0522 DBB2     		uxtb	r3, r3
 812 0524 1946     		mov	r1, r3
 813 0526 1E20     		movs	r0, #30
 814 0528 FFF7FEFF 		bl	_test_assert
 815 052c 0346     		mov	r3, r0
 816 052e 002B     		cmp	r3, #0
 817 0530 02D0     		beq	.L54
 818 0532 FFF7FEFF 		bl	chSysUnlock
 819 0536 ADE1     		b	.L17
 820              	.L54:
 821 0538 FFF7FEFF 		bl	chSysUnlock
 822 053c FFF7FEFF 		bl	chSysLock
 823 0540 9A48     		ldr	r0, .L111
 824 0542 FFF7FEFF 		bl	chMBGetUsedCountI
 825 0546 0346     		mov	r3, r0
 826 0548 002B     		cmp	r3, #0
 827 054a 0CBF     		ite	eq
 828 054c 0123     		moveq	r3, #1
 829 054e 0023     		movne	r3, #0
 830 0550 DBB2     		uxtb	r3, r3
 831 0552 1946     		mov	r1, r3
 832 0554 1F20     		movs	r0, #31
 833 0556 FFF7FEFF 		bl	_test_assert
 834 055a 0346     		mov	r3, r0
 835 055c 002B     		cmp	r3, #0
 836 055e 02D0     		beq	.L55
 837 0560 FFF7FEFF 		bl	chSysUnlock
 838 0564 96E1     		b	.L17
 839              	.L55:
 840 0566 FFF7FEFF 		bl	chSysUnlock
 841 056a 904B     		ldr	r3, .L111
 842 056c DA68     		ldr	r2, [r3, #12]
 843 056e 8F4B     		ldr	r3, .L111
 844 0570 9B68     		ldr	r3, [r3, #8]
 845 0572 9A42     		cmp	r2, r3
 846 0574 0CBF     		ite	eq
 847 0576 0123     		moveq	r3, #1
 848 0578 0023     		movne	r3, #0
 849 057a DBB2     		uxtb	r3, r3
 850 057c 1946     		mov	r1, r3
 851 057e 2020     		movs	r0, #32
 852 0580 FFF7FEFF 		bl	_test_assert
 853 0584 0346     		mov	r3, r0
 854 0586 002B     		cmp	r3, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 16


 855 0588 40F07181 		bne	.L97
 856 058c FFF7FEFF 		bl	chSysLock
 857 0590 4521     		movs	r1, #69
 858 0592 8648     		ldr	r0, .L111
 859 0594 FFF7FEFF 		bl	chMBPostAheadI
 860 0598 B860     		str	r0, [r7, #8]
 861 059a BB68     		ldr	r3, [r7, #8]
 862 059c 002B     		cmp	r3, #0
 863 059e 0CBF     		ite	eq
 864 05a0 0123     		moveq	r3, #1
 865 05a2 0023     		movne	r3, #0
 866 05a4 DBB2     		uxtb	r3, r3
 867 05a6 1946     		mov	r1, r3
 868 05a8 2120     		movs	r0, #33
 869 05aa FFF7FEFF 		bl	_test_assert
 870 05ae 0346     		mov	r3, r0
 871 05b0 002B     		cmp	r3, #0
 872 05b2 40F05E81 		bne	.L98
 873 05b6 4421     		movs	r1, #68
 874 05b8 7C48     		ldr	r0, .L111
 875 05ba FFF7FEFF 		bl	chMBPostAheadI
 876 05be B860     		str	r0, [r7, #8]
 877 05c0 BB68     		ldr	r3, [r7, #8]
 878 05c2 002B     		cmp	r3, #0
 879 05c4 0CBF     		ite	eq
 880 05c6 0123     		moveq	r3, #1
 881 05c8 0023     		movne	r3, #0
 882 05ca DBB2     		uxtb	r3, r3
 883 05cc 1946     		mov	r1, r3
 884 05ce 2220     		movs	r0, #34
 885 05d0 FFF7FEFF 		bl	_test_assert
 886 05d4 0346     		mov	r3, r0
 887 05d6 002B     		cmp	r3, #0
 888 05d8 40F04D81 		bne	.L99
 889 05dc 4321     		movs	r1, #67
 890 05de 7348     		ldr	r0, .L111
 891 05e0 FFF7FEFF 		bl	chMBPostAheadI
 892 05e4 B860     		str	r0, [r7, #8]
 893 05e6 BB68     		ldr	r3, [r7, #8]
 894 05e8 002B     		cmp	r3, #0
 895 05ea 0CBF     		ite	eq
 896 05ec 0123     		moveq	r3, #1
 897 05ee 0023     		movne	r3, #0
 898 05f0 DBB2     		uxtb	r3, r3
 899 05f2 1946     		mov	r1, r3
 900 05f4 2320     		movs	r0, #35
 901 05f6 FFF7FEFF 		bl	_test_assert
 902 05fa 0346     		mov	r3, r0
 903 05fc 002B     		cmp	r3, #0
 904 05fe 40F03C81 		bne	.L100
 905 0602 4221     		movs	r1, #66
 906 0604 6948     		ldr	r0, .L111
 907 0606 FFF7FEFF 		bl	chMBPostAheadI
 908 060a B860     		str	r0, [r7, #8]
 909 060c BB68     		ldr	r3, [r7, #8]
 910 060e 002B     		cmp	r3, #0
 911 0610 0CBF     		ite	eq
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 17


 912 0612 0123     		moveq	r3, #1
 913 0614 0023     		movne	r3, #0
 914 0616 DBB2     		uxtb	r3, r3
 915 0618 1946     		mov	r1, r3
 916 061a 2420     		movs	r0, #36
 917 061c FFF7FEFF 		bl	_test_assert
 918 0620 0346     		mov	r3, r0
 919 0622 002B     		cmp	r3, #0
 920 0624 40F02B81 		bne	.L101
 921 0628 4121     		movs	r1, #65
 922 062a 6048     		ldr	r0, .L111
 923 062c FFF7FEFF 		bl	chMBPostAheadI
 924 0630 B860     		str	r0, [r7, #8]
 925 0632 FFF7FEFF 		bl	chSysUnlock
 926 0636 BB68     		ldr	r3, [r7, #8]
 927 0638 002B     		cmp	r3, #0
 928 063a 0CBF     		ite	eq
 929 063c 0123     		moveq	r3, #1
 930 063e 0023     		movne	r3, #0
 931 0640 DBB2     		uxtb	r3, r3
 932 0642 1946     		mov	r1, r3
 933 0644 2520     		movs	r0, #37
 934 0646 FFF7FEFF 		bl	_test_assert
 935 064a 0346     		mov	r3, r0
 936 064c 002B     		cmp	r3, #0
 937 064e 40F01881 		bne	.L102
 938 0652 564B     		ldr	r3, .L111
 939 0654 DA68     		ldr	r2, [r3, #12]
 940 0656 554B     		ldr	r3, .L111
 941 0658 9B68     		ldr	r3, [r3, #8]
 942 065a 9A42     		cmp	r2, r3
 943 065c 0CBF     		ite	eq
 944 065e 0123     		moveq	r3, #1
 945 0660 0023     		movne	r3, #0
 946 0662 DBB2     		uxtb	r3, r3
 947 0664 1946     		mov	r1, r3
 948 0666 2620     		movs	r0, #38
 949 0668 FFF7FEFF 		bl	_test_assert
 950 066c 0346     		mov	r3, r0
 951 066e 002B     		cmp	r3, #0
 952 0670 40F00981 		bne	.L103
 953 0674 0023     		movs	r3, #0
 954 0676 FB60     		str	r3, [r7, #12]
 955 0678 1FE0     		b	.L63
 956              	.L65:
 957 067a FFF7FEFF 		bl	chSysLock
 958 067e 3B1D     		adds	r3, r7, #4
 959 0680 1946     		mov	r1, r3
 960 0682 4A48     		ldr	r0, .L111
 961 0684 FFF7FEFF 		bl	chMBFetchI
 962 0688 B860     		str	r0, [r7, #8]
 963 068a FFF7FEFF 		bl	chSysUnlock
 964 068e BB68     		ldr	r3, [r7, #8]
 965 0690 002B     		cmp	r3, #0
 966 0692 0CBF     		ite	eq
 967 0694 0123     		moveq	r3, #1
 968 0696 0023     		movne	r3, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 18


 969 0698 DBB2     		uxtb	r3, r3
 970 069a 1946     		mov	r1, r3
 971 069c 2720     		movs	r0, #39
 972 069e FFF7FEFF 		bl	_test_assert
 973 06a2 0346     		mov	r3, r0
 974 06a4 002B     		cmp	r3, #0
 975 06a6 40F0F080 		bne	.L104
 976 06aa 7B68     		ldr	r3, [r7, #4]
 977 06ac DBB2     		uxtb	r3, r3
 978 06ae 1846     		mov	r0, r3
 979 06b0 FFF7FEFF 		bl	test_emit_token
 980 06b4 FB68     		ldr	r3, [r7, #12]
 981 06b6 0133     		adds	r3, r3, #1
 982 06b8 FB60     		str	r3, [r7, #12]
 983              	.L63:
 984 06ba FB68     		ldr	r3, [r7, #12]
 985 06bc 042B     		cmp	r3, #4
 986 06be DCD9     		bls	.L65
 987 06c0 3B49     		ldr	r1, .L111+4
 988 06c2 2820     		movs	r0, #40
 989 06c4 FFF7FEFF 		bl	_test_assert_sequence
 990 06c8 0346     		mov	r3, r0
 991 06ca 002B     		cmp	r3, #0
 992 06cc 40F0DF80 		bne	.L105
 993 06d0 FFF7FEFF 		bl	chSysLock
 994 06d4 3548     		ldr	r0, .L111
 995 06d6 FFF7FEFF 		bl	chMBGetFreeCountI
 996 06da 0346     		mov	r3, r0
 997 06dc 052B     		cmp	r3, #5
 998 06de 0CBF     		ite	eq
 999 06e0 0123     		moveq	r3, #1
 1000 06e2 0023     		movne	r3, #0
 1001 06e4 DBB2     		uxtb	r3, r3
 1002 06e6 1946     		mov	r1, r3
 1003 06e8 2920     		movs	r0, #41
 1004 06ea FFF7FEFF 		bl	_test_assert
 1005 06ee 0346     		mov	r3, r0
 1006 06f0 002B     		cmp	r3, #0
 1007 06f2 02D0     		beq	.L67
 1008 06f4 FFF7FEFF 		bl	chSysUnlock
 1009 06f8 CCE0     		b	.L17
 1010              	.L67:
 1011 06fa FFF7FEFF 		bl	chSysUnlock
 1012 06fe FFF7FEFF 		bl	chSysLock
 1013 0702 2A48     		ldr	r0, .L111
 1014 0704 FFF7FEFF 		bl	chMBGetUsedCountI
 1015 0708 0346     		mov	r3, r0
 1016 070a 002B     		cmp	r3, #0
 1017 070c 0CBF     		ite	eq
 1018 070e 0123     		moveq	r3, #1
 1019 0710 0023     		movne	r3, #0
 1020 0712 DBB2     		uxtb	r3, r3
 1021 0714 1946     		mov	r1, r3
 1022 0716 2A20     		movs	r0, #42
 1023 0718 FFF7FEFF 		bl	_test_assert
 1024 071c 0346     		mov	r3, r0
 1025 071e 002B     		cmp	r3, #0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 19


 1026 0720 02D0     		beq	.L68
 1027 0722 FFF7FEFF 		bl	chSysUnlock
 1028 0726 B5E0     		b	.L17
 1029              	.L68:
 1030 0728 FFF7FEFF 		bl	chSysUnlock
 1031 072c 1F4B     		ldr	r3, .L111
 1032 072e DA68     		ldr	r2, [r3, #12]
 1033 0730 1E4B     		ldr	r3, .L111
 1034 0732 9B68     		ldr	r3, [r3, #8]
 1035 0734 9A42     		cmp	r2, r3
 1036 0736 0CBF     		ite	eq
 1037 0738 0123     		moveq	r3, #1
 1038 073a 0023     		movne	r3, #0
 1039 073c DBB2     		uxtb	r3, r3
 1040 073e 1946     		mov	r1, r3
 1041 0740 2B20     		movs	r0, #43
 1042 0742 FFF7FEFF 		bl	_test_assert
 1043 0746 0346     		mov	r3, r0
 1044 0748 002B     		cmp	r3, #0
 1045 074a 40F0A280 		bne	.L106
 1046 074e 1748     		ldr	r0, .L111
 1047 0750 FFF7FEFF 		bl	chMBReset
 1048 0754 FFF7FEFF 		bl	chSysLock
 1049 0758 1448     		ldr	r0, .L111
 1050 075a FFF7FEFF 		bl	chMBGetFreeCountI
 1051 075e 0346     		mov	r3, r0
 1052 0760 052B     		cmp	r3, #5
 1053 0762 0CBF     		ite	eq
 1054 0764 0123     		moveq	r3, #1
 1055 0766 0023     		movne	r3, #0
 1056 0768 DBB2     		uxtb	r3, r3
 1057 076a 1946     		mov	r1, r3
 1058 076c 2C20     		movs	r0, #44
 1059 076e FFF7FEFF 		bl	_test_assert
 1060 0772 0346     		mov	r3, r0
 1061 0774 002B     		cmp	r3, #0
 1062 0776 02D0     		beq	.L70
 1063 0778 FFF7FEFF 		bl	chSysUnlock
 1064 077c 8AE0     		b	.L17
 1065              	.L70:
 1066 077e FFF7FEFF 		bl	chSysUnlock
 1067 0782 FFF7FEFF 		bl	chSysLock
 1068 0786 0948     		ldr	r0, .L111
 1069 0788 FFF7FEFF 		bl	chMBGetUsedCountI
 1070 078c 0346     		mov	r3, r0
 1071 078e 002B     		cmp	r3, #0
 1072 0790 0CBF     		ite	eq
 1073 0792 0123     		moveq	r3, #1
 1074 0794 0023     		movne	r3, #0
 1075 0796 DBB2     		uxtb	r3, r3
 1076 0798 1946     		mov	r1, r3
 1077 079a 2D20     		movs	r0, #45
 1078 079c FFF7FEFF 		bl	_test_assert
 1079 07a0 0346     		mov	r3, r0
 1080 07a2 002B     		cmp	r3, #0
 1081 07a4 06D0     		beq	.L71
 1082 07a6 FFF7FEFF 		bl	chSysUnlock
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 20


 1083 07aa 73E0     		b	.L17
 1084              	.L112:
 1085              		.align	2
 1086              	.L111:
 1087 07ac 00000000 		.word	mb1
 1088 07b0 00000000 		.word	.LC0
 1089              	.L71:
 1090 07b4 FFF7FEFF 		bl	chSysUnlock
 1091 07b8 FFF7FEFF 		bl	chSysLock
 1092 07bc 374B     		ldr	r3, .L113
 1093 07be 1A68     		ldr	r2, [r3]
 1094 07c0 364B     		ldr	r3, .L113
 1095 07c2 9B68     		ldr	r3, [r3, #8]
 1096 07c4 9A42     		cmp	r2, r3
 1097 07c6 0CBF     		ite	eq
 1098 07c8 0123     		moveq	r3, #1
 1099 07ca 0023     		movne	r3, #0
 1100 07cc DBB2     		uxtb	r3, r3
 1101 07ce 1946     		mov	r1, r3
 1102 07d0 2E20     		movs	r0, #46
 1103 07d2 FFF7FEFF 		bl	_test_assert
 1104 07d6 0346     		mov	r3, r0
 1105 07d8 002B     		cmp	r3, #0
 1106 07da 02D0     		beq	.L72
 1107 07dc FFF7FEFF 		bl	chSysUnlock
 1108 07e0 58E0     		b	.L17
 1109              	.L72:
 1110 07e2 FFF7FEFF 		bl	chSysUnlock
 1111 07e6 FFF7FEFF 		bl	chSysLock
 1112 07ea 2C4B     		ldr	r3, .L113
 1113 07ec 1A68     		ldr	r2, [r3]
 1114 07ee 2B4B     		ldr	r3, .L113
 1115 07f0 DB68     		ldr	r3, [r3, #12]
 1116 07f2 9A42     		cmp	r2, r3
 1117 07f4 0CBF     		ite	eq
 1118 07f6 0123     		moveq	r3, #1
 1119 07f8 0023     		movne	r3, #0
 1120 07fa DBB2     		uxtb	r3, r3
 1121 07fc 1946     		mov	r1, r3
 1122 07fe 2F20     		movs	r0, #47
 1123 0800 FFF7FEFF 		bl	_test_assert
 1124 0804 0346     		mov	r3, r0
 1125 0806 002B     		cmp	r3, #0
 1126 0808 02D0     		beq	.L73
 1127 080a FFF7FEFF 		bl	chSysUnlock
 1128 080e 41E0     		b	.L17
 1129              	.L73:
 1130 0810 FFF7FEFF 		bl	chSysUnlock
 1131 0814 3EE0     		b	.L17
 1132              	.L75:
 1133 0816 00BF     		nop
 1134 0818 3CE0     		b	.L17
 1135              	.L76:
 1136 081a 00BF     		nop
 1137 081c 3AE0     		b	.L17
 1138              	.L77:
 1139 081e 00BF     		nop
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 21


 1140 0820 38E0     		b	.L17
 1141              	.L78:
 1142 0822 00BF     		nop
 1143 0824 36E0     		b	.L17
 1144              	.L79:
 1145 0826 00BF     		nop
 1146 0828 34E0     		b	.L17
 1147              	.L80:
 1148 082a 00BF     		nop
 1149 082c 32E0     		b	.L17
 1150              	.L81:
 1151 082e 00BF     		nop
 1152 0830 30E0     		b	.L17
 1153              	.L82:
 1154 0832 00BF     		nop
 1155 0834 2EE0     		b	.L17
 1156              	.L83:
 1157 0836 00BF     		nop
 1158 0838 2CE0     		b	.L17
 1159              	.L84:
 1160 083a 00BF     		nop
 1161 083c 2AE0     		b	.L17
 1162              	.L85:
 1163 083e 00BF     		nop
 1164 0840 28E0     		b	.L17
 1165              	.L86:
 1166 0842 00BF     		nop
 1167 0844 26E0     		b	.L17
 1168              	.L87:
 1169 0846 00BF     		nop
 1170 0848 24E0     		b	.L17
 1171              	.L88:
 1172 084a 00BF     		nop
 1173 084c 22E0     		b	.L17
 1174              	.L89:
 1175 084e 00BF     		nop
 1176 0850 20E0     		b	.L17
 1177              	.L90:
 1178 0852 00BF     		nop
 1179 0854 1EE0     		b	.L17
 1180              	.L91:
 1181 0856 00BF     		nop
 1182 0858 1CE0     		b	.L17
 1183              	.L92:
 1184 085a 00BF     		nop
 1185 085c 1AE0     		b	.L17
 1186              	.L93:
 1187 085e 00BF     		nop
 1188 0860 18E0     		b	.L17
 1189              	.L94:
 1190 0862 00BF     		nop
 1191 0864 16E0     		b	.L17
 1192              	.L95:
 1193 0866 00BF     		nop
 1194 0868 14E0     		b	.L17
 1195              	.L96:
 1196 086a 00BF     		nop
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 22


 1197 086c 12E0     		b	.L17
 1198              	.L97:
 1199 086e 00BF     		nop
 1200 0870 10E0     		b	.L17
 1201              	.L98:
 1202 0872 00BF     		nop
 1203 0874 0EE0     		b	.L17
 1204              	.L99:
 1205 0876 00BF     		nop
 1206 0878 0CE0     		b	.L17
 1207              	.L100:
 1208 087a 00BF     		nop
 1209 087c 0AE0     		b	.L17
 1210              	.L101:
 1211 087e 00BF     		nop
 1212 0880 08E0     		b	.L17
 1213              	.L102:
 1214 0882 00BF     		nop
 1215 0884 06E0     		b	.L17
 1216              	.L103:
 1217 0886 00BF     		nop
 1218 0888 04E0     		b	.L17
 1219              	.L104:
 1220 088a 00BF     		nop
 1221 088c 02E0     		b	.L17
 1222              	.L105:
 1223 088e 00BF     		nop
 1224 0890 00E0     		b	.L17
 1225              	.L106:
 1226 0892 00BF     		nop
 1227              	.L17:
 1228 0894 1037     		adds	r7, r7, #16
 1229 0896 BD46     		mov	sp, r7
 1230              		@ sp needed
 1231 0898 80BD     		pop	{r7, pc}
 1232              	.L114:
 1233 089a 00BF     		.align	2
 1234              	.L113:
 1235 089c 00000000 		.word	mb1
 1236              		.size	mbox1_execute, .-mbox1_execute
 1237              		.global	testmbox1
 1238              		.section	.rodata
 1239 0006 0000     		.align	2
 1240              	.LC1:
 1241 0008 4D61696C 		.ascii	"Mailboxes, queuing and timeouts\000"
 1241      626F7865 
 1241      732C2071 
 1241      75657569 
 1241      6E672061 
 1242              		.section	.rodata.testmbox1,"a",%progbits
 1243              		.align	2
 1244              		.type	testmbox1, %object
 1245              		.size	testmbox1, 16
 1246              	testmbox1:
 1247 0000 08000000 		.word	.LC1
 1248 0004 00000000 		.word	mbox1_setup
 1249 0008 00000000 		.word	0
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 23


 1250 000c 00000000 		.word	mbox1_execute
 1251              		.global	patternmbox
 1252              		.section	.rodata.patternmbox,"a",%progbits
 1253              		.align	2
 1254              		.type	patternmbox, %object
 1255              		.size	patternmbox, 8
 1256              	patternmbox:
 1257 0000 00000000 		.word	testmbox1
 1258 0004 00000000 		.word	0
 1259              		.section	.rodata.__func__.7153,"a",%progbits
 1260              		.align	2
 1261              		.type	__func__.7153, %object
 1262              		.size	__func__.7153, 12
 1263              	__func__.7153:
 1264 0000 63685379 		.ascii	"chSysUnlock\000"
 1264      73556E6C 
 1264      6F636B00 
 1265              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 7-2017-q4-major) 7.2.1 20170904 (release) [ARM
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 24


DEFINED SYMBOLS
                            *ABS*:0000000000000000 testmbox.c
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:15     .text.port_lock:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:21     .text.port_lock:0000000000000000 port_lock
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:45     .text.port_unlock:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:51     .text.port_unlock:0000000000000000 port_unlock
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:75     .text.chSysLock:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:81     .text.chSysLock:0000000000000000 chSysLock
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:93     .text.chSysUnlock:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:99     .text.chSysUnlock:0000000000000000 chSysUnlock
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:128    .text.chSysUnlock:0000000000000034 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1263   .rodata.__func__.7153:0000000000000000 __func__.7153
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:132    .text.chSemGetCounterI:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:138    .text.chSemGetCounterI:0000000000000000 chSemGetCounterI
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:155    .text.chMBGetFreeCountI:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:161    .text.chMBGetFreeCountI:0000000000000000 chMBGetFreeCountI
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:181    .text.chMBGetUsedCountI:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:187    .text.chMBGetUsedCountI:0000000000000000 chMBGetUsedCountI
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:207    .data.mb1:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:210    .data.mb1:0000000000000000 mb1
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:222    .text.mbox1_setup:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:228    .text.mbox1_setup:0000000000000000 mbox1_setup
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:242    .text.mbox1_setup:0000000000000014 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:246    .rodata:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:250    .text.mbox1_execute:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:256    .text.mbox1_execute:0000000000000000 mbox1_execute
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:462    .text.mbox1_execute:00000000000001e4 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:464    .text.mbox1_execute:00000000000001e8 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:764    .text.mbox1_execute:00000000000004b0 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:767    .text.mbox1_execute:00000000000004b8 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1087   .text.mbox1_execute:00000000000007ac $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1090   .text.mbox1_execute:00000000000007b4 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1235   .text.mbox1_execute:000000000000089c $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1246   .rodata.testmbox1:0000000000000000 testmbox1
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1243   .rodata.testmbox1:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1256   .rodata.patternmbox:0000000000000000 patternmbox
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1253   .rodata.patternmbox:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s:1260   .rodata.__func__.7153:0000000000000000 $d

UNDEFINED SYMBOLS
_stats_start_measure_crit_thd
_dbg_check_lock
_dbg_check_unlock
_stats_stop_measure_crit_thd
chSysHalt
ch
chDbgCheckClassI
test
chMBObjectInit
_test_assert
chMBPost
chMBPostAhead
chMBPostI
chMBPostAheadI
chMBFetch
test_emit_token
_test_assert_sequence
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//ccyNnjHw.s 			page 25


chMBFetchI
chMBReset

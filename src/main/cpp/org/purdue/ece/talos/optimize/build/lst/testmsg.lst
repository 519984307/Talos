ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"testmsg.c"
  14              		.section	.text.chThdGetSelfX,"ax",%progbits
  15              		.align	1
  16              		.syntax unified
  17              		.thumb
  18              		.thumb_func
  19              		.fpu fpv4-sp-d16
  20              		.type	chThdGetSelfX, %function
  21              	chThdGetSelfX:
  22              		@ args = 0, pretend = 0, frame = 0
  23              		@ frame_needed = 1, uses_anonymous_args = 0
  24              		@ link register save eliminated.
  25 0000 80B4     		push	{r7}
  26 0002 00AF     		add	r7, sp, #0
  27 0004 034B     		ldr	r3, .L3
  28 0006 9B69     		ldr	r3, [r3, #24]
  29 0008 1846     		mov	r0, r3
  30 000a BD46     		mov	sp, r7
  31              		@ sp needed
  32 000c 5DF8047B 		ldr	r7, [sp], #4
  33 0010 7047     		bx	lr
  34              	.L4:
  35 0012 00BF     		.align	2
  36              	.L3:
  37 0014 00000000 		.word	ch
  38              		.size	chThdGetSelfX, .-chThdGetSelfX
  39              		.section	.text.chThdGetPriorityX,"ax",%progbits
  40              		.align	1
  41              		.syntax unified
  42              		.thumb
  43              		.thumb_func
  44              		.fpu fpv4-sp-d16
  45              		.type	chThdGetPriorityX, %function
  46              	chThdGetPriorityX:
  47              		@ args = 0, pretend = 0, frame = 0
  48              		@ frame_needed = 1, uses_anonymous_args = 0
  49 0000 80B5     		push	{r7, lr}
  50 0002 00AF     		add	r7, sp, #0
  51 0004 FFF7FEFF 		bl	chThdGetSelfX
  52 0008 0346     		mov	r3, r0
  53 000a 9B68     		ldr	r3, [r3, #8]
  54 000c 1846     		mov	r0, r3
  55 000e 80BD     		pop	{r7, pc}
  56              		.size	chThdGetPriorityX, .-chThdGetPriorityX
  57              		.section	.text.chMsgGet,"ax",%progbits
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s 			page 2


  58              		.align	1
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu fpv4-sp-d16
  63              		.type	chMsgGet, %function
  64              	chMsgGet:
  65              		@ args = 0, pretend = 0, frame = 8
  66              		@ frame_needed = 1, uses_anonymous_args = 0
  67              		@ link register save eliminated.
  68 0000 80B4     		push	{r7}
  69 0002 83B0     		sub	sp, sp, #12
  70 0004 00AF     		add	r7, sp, #0
  71 0006 7860     		str	r0, [r7, #4]
  72 0008 7B68     		ldr	r3, [r7, #4]
  73 000a 9B6B     		ldr	r3, [r3, #56]
  74 000c 1846     		mov	r0, r3
  75 000e 0C37     		adds	r7, r7, #12
  76 0010 BD46     		mov	sp, r7
  77              		@ sp needed
  78 0012 5DF8047B 		ldr	r7, [sp], #4
  79 0016 7047     		bx	lr
  80              		.size	chMsgGet, .-chMsgGet
  81              		.section	.text.thread,"ax",%progbits
  82              		.align	1
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  86              		.fpu fpv4-sp-d16
  87              		.type	thread, %function
  88              	thread:
  89              		@ args = 0, pretend = 0, frame = 8
  90              		@ frame_needed = 1, uses_anonymous_args = 0
  91 0000 80B5     		push	{r7, lr}
  92 0002 82B0     		sub	sp, sp, #8
  93 0004 00AF     		add	r7, sp, #0
  94 0006 7860     		str	r0, [r7, #4]
  95 0008 4121     		movs	r1, #65
  96 000a 7868     		ldr	r0, [r7, #4]
  97 000c FFF7FEFF 		bl	chMsgSend
  98 0010 4221     		movs	r1, #66
  99 0012 7868     		ldr	r0, [r7, #4]
 100 0014 FFF7FEFF 		bl	chMsgSend
 101 0018 4321     		movs	r1, #67
 102 001a 7868     		ldr	r0, [r7, #4]
 103 001c FFF7FEFF 		bl	chMsgSend
 104 0020 00BF     		nop
 105 0022 0837     		adds	r7, r7, #8
 106 0024 BD46     		mov	sp, r7
 107              		@ sp needed
 108 0026 80BD     		pop	{r7, pc}
 109              		.size	thread, .-thread
 110              		.section	.rodata
 111              		.align	2
 112              	.LC0:
 113 0000 41424300 		.ascii	"ABC\000"
 114              		.section	.text.msg1_execute,"ax",%progbits
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s 			page 3


 115              		.align	1
 116              		.syntax unified
 117              		.thumb
 118              		.thumb_func
 119              		.fpu fpv4-sp-d16
 120              		.type	msg1_execute, %function
 121              	msg1_execute:
 122              		@ args = 0, pretend = 0, frame = 8
 123              		@ frame_needed = 1, uses_anonymous_args = 0
 124 0000 B0B5     		push	{r4, r5, r7, lr}
 125 0002 84B0     		sub	sp, sp, #16
 126 0004 02AF     		add	r7, sp, #8
 127 0006 264B     		ldr	r3, .L12
 128 0008 1C68     		ldr	r4, [r3]
 129 000a FFF7FEFF 		bl	chThdGetPriorityX
 130 000e 0346     		mov	r3, r0
 131 0010 5D1C     		adds	r5, r3, #1
 132 0012 FFF7FEFF 		bl	chThdGetSelfX
 133 0016 0346     		mov	r3, r0
 134 0018 0093     		str	r3, [sp]
 135 001a 224B     		ldr	r3, .L12+4
 136 001c 2A46     		mov	r2, r5
 137 001e 4FF4FC71 		mov	r1, #504
 138 0022 2046     		mov	r0, r4
 139 0024 FFF7FEFF 		bl	chThdCreateStatic
 140 0028 0246     		mov	r2, r0
 141 002a 1F4B     		ldr	r3, .L12+8
 142 002c 1A60     		str	r2, [r3]
 143 002e FFF7FEFF 		bl	chMsgWait
 144 0032 7860     		str	r0, [r7, #4]
 145 0034 7868     		ldr	r0, [r7, #4]
 146 0036 FFF7FEFF 		bl	chMsgGet
 147 003a 3860     		str	r0, [r7]
 148 003c 3968     		ldr	r1, [r7]
 149 003e 7868     		ldr	r0, [r7, #4]
 150 0040 FFF7FEFF 		bl	chMsgRelease
 151 0044 3B68     		ldr	r3, [r7]
 152 0046 DBB2     		uxtb	r3, r3
 153 0048 1846     		mov	r0, r3
 154 004a FFF7FEFF 		bl	test_emit_token
 155 004e FFF7FEFF 		bl	chMsgWait
 156 0052 7860     		str	r0, [r7, #4]
 157 0054 7868     		ldr	r0, [r7, #4]
 158 0056 FFF7FEFF 		bl	chMsgGet
 159 005a 3860     		str	r0, [r7]
 160 005c 3968     		ldr	r1, [r7]
 161 005e 7868     		ldr	r0, [r7, #4]
 162 0060 FFF7FEFF 		bl	chMsgRelease
 163 0064 3B68     		ldr	r3, [r7]
 164 0066 DBB2     		uxtb	r3, r3
 165 0068 1846     		mov	r0, r3
 166 006a FFF7FEFF 		bl	test_emit_token
 167 006e FFF7FEFF 		bl	chMsgWait
 168 0072 7860     		str	r0, [r7, #4]
 169 0074 7868     		ldr	r0, [r7, #4]
 170 0076 FFF7FEFF 		bl	chMsgGet
 171 007a 3860     		str	r0, [r7]
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s 			page 4


 172 007c 3968     		ldr	r1, [r7]
 173 007e 7868     		ldr	r0, [r7, #4]
 174 0080 FFF7FEFF 		bl	chMsgRelease
 175 0084 3B68     		ldr	r3, [r7]
 176 0086 DBB2     		uxtb	r3, r3
 177 0088 1846     		mov	r0, r3
 178 008a FFF7FEFF 		bl	test_emit_token
 179 008e 0749     		ldr	r1, .L12+12
 180 0090 0120     		movs	r0, #1
 181 0092 FFF7FEFF 		bl	_test_assert_sequence
 182 0096 0346     		mov	r3, r0
 183 0098 002B     		cmp	r3, #0
 184 009a 0837     		adds	r7, r7, #8
 185 009c BD46     		mov	sp, r7
 186              		@ sp needed
 187 009e B0BD     		pop	{r4, r5, r7, pc}
 188              	.L13:
 189              		.align	2
 190              	.L12:
 191 00a0 00000000 		.word	wa
 192 00a4 00000000 		.word	thread
 193 00a8 00000000 		.word	threads
 194 00ac 00000000 		.word	.LC0
 195              		.size	msg1_execute, .-msg1_execute
 196              		.global	testmsg1
 197              		.section	.rodata
 198              		.align	2
 199              	.LC1:
 200 0004 4D657373 		.ascii	"Messages, loop\000"
 200      61676573 
 200      2C206C6F 
 200      6F7000
 201              		.section	.rodata.testmsg1,"a",%progbits
 202              		.align	2
 203              		.type	testmsg1, %object
 204              		.size	testmsg1, 16
 205              	testmsg1:
 206 0000 04000000 		.word	.LC1
 207 0004 00000000 		.word	0
 208 0008 00000000 		.word	0
 209 000c 00000000 		.word	msg1_execute
 210              		.global	patternmsg
 211              		.section	.rodata.patternmsg,"a",%progbits
 212              		.align	2
 213              		.type	patternmsg, %object
 214              		.size	patternmsg, 8
 215              	patternmsg:
 216 0000 00000000 		.word	testmsg1
 217 0004 00000000 		.word	0
 218              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 7-2017-q4-major) 7.2.1 20170904 (release) [ARM
ARM GAS  /var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 testmsg.c
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:15     .text.chThdGetSelfX:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:21     .text.chThdGetSelfX:0000000000000000 chThdGetSelfX
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:37     .text.chThdGetSelfX:0000000000000014 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:40     .text.chThdGetPriorityX:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:46     .text.chThdGetPriorityX:0000000000000000 chThdGetPriorityX
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:58     .text.chMsgGet:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:64     .text.chMsgGet:0000000000000000 chMsgGet
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:82     .text.thread:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:88     .text.thread:0000000000000000 thread
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:111    .rodata:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:115    .text.msg1_execute:0000000000000000 $t
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:121    .text.msg1_execute:0000000000000000 msg1_execute
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:191    .text.msg1_execute:00000000000000a0 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:205    .rodata.testmsg1:0000000000000000 testmsg1
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:202    .rodata.testmsg1:0000000000000000 $d
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:215    .rodata.patternmsg:0000000000000000 patternmsg
/var/folders/d2/nstgp4h54kz7g1l847x_b8wc0000gn/T//cc7pK0rh.s:212    .rodata.patternmsg:0000000000000000 $d

UNDEFINED SYMBOLS
ch
chMsgSend
chThdCreateStatic
chMsgWait
chMsgRelease
test_emit_token
_test_assert_sequence
wa
threads
